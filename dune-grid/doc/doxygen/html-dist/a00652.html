<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN""http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>dune-grid: numbering.hh Source File (dune-grid )</title>
  <link rel="stylesheet" type="text/css" href="./dune-doxy.css">
  <link rel="stylesheet" type="text/css" href="./tabs.css">
</head>
<div class="main">
<div class="doxygen">
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_5edca94048dae04696b7e65d07cd8e9c.html">grid</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_3158ae70673e904576780b897adce6a3.html">sgrid</a>
  </div>
</div>
<div class="contents">
<h1>numbering.hh</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef DUNE_NUMBERING_HH</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define DUNE_NUMBERING_HH</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;dune/common/fixedarray.hh&gt;</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="keyword">namespace </span>Dune {
<a name="l00007"></a>00007 
<a name="l00009"></a>00009 <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> dim&gt;
<a name="l00010"></a><a class="code" href="a00212.html">00010</a> <span class="keyword">class </span><a class="code" href="a00212.html" title="generate lexicographic ordering in a cube of dimension dim with arbitry size per...">LexOrder</a> {
<a name="l00011"></a>00011 <span class="keyword">public</span>:
<a name="l00013"></a>00013     <span class="keywordtype">void</span> <a class="code" href="a00212.html#06c8b406704311c40eaef93dca6db5db" title="preprocess ordering">init</a> (<span class="keyword">const</span> array&lt;int, dim&gt;&amp; _NN);
<a name="l00014"></a>00014 
<a name="l00016"></a>00016     <span class="keywordtype">int</span> <a class="code" href="a00212.html#8f4296bbc13c74c4d04287940f62ca47" title="get total number of tupels">tupels</a> () <span class="keyword">const</span>;
<a name="l00017"></a>00017 
<a name="l00019"></a>00019     <span class="keywordtype">int</span> <a class="code" href="a00212.html#6ea1f71fe7a465572b3f1b4fceaff6b0" title="compute number from a given tupel">n</a> (<span class="keyword">const</span> array&lt;int,dim&gt;&amp; <a class="code" href="a00212.html#3d532d04a59759d8f2e8012828fa4396" title="compute tupel from number 0 &amp;lt;= n &amp;lt; tupels()">z</a>) <span class="keyword">const</span>;
<a name="l00020"></a>00020 
<a name="l00022"></a>00022     array&lt;int,dim&gt; <a class="code" href="a00212.html#3d532d04a59759d8f2e8012828fa4396" title="compute tupel from number 0 &amp;lt;= n &amp;lt; tupels()">z</a> (<span class="keywordtype">int</span> n) <span class="keyword">const</span>;
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="keyword">private</span>:
<a name="l00025"></a>00025     array&lt;int,dim&gt; N; <span class="comment">// number of elements per direction</span>
<a name="l00026"></a>00026     <span class="keywordtype">int</span> P[dim+1];     <span class="comment">// P[i] = Prod_{i=0}^{i} N[i];</span>
<a name="l00027"></a>00027 };
<a name="l00028"></a>00028 
<a name="l00030"></a>00030 <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> dim&gt;
<a name="l00031"></a><a class="code" href="a00185.html">00031</a> <span class="keyword">class </span><a class="code" href="a00185.html" title="generate consecutive numbering of dim sets of size N_i">JoinOrder</a> {
<a name="l00032"></a>00032 <span class="keyword">public</span>:
<a name="l00034"></a>00034         <span class="keywordtype">void</span> <a class="code" href="a00185.html#78bfdb83666749ec73c5a3325b1e0a9b" title="preprocess ordering">init</a> (<span class="keyword">const</span> array&lt;int,dim&gt;&amp; _NN);
<a name="l00035"></a>00035 
<a name="l00037"></a>00037         <span class="keywordtype">int</span> <a class="code" href="a00185.html#7fc242f2421754c49d41aa73be305325" title="get total number of elements in all sets">size</a> () <span class="keyword">const</span>;
<a name="l00038"></a>00038 
<a name="l00040"></a>00040         <span class="keywordtype">int</span> <a class="code" href="a00185.html#9eebb4190183d82084261b2e99d53a50" title="compute number from subset and index">n</a> (<span class="keywordtype">int</span> <a class="code" href="a00185.html#48c48ba9f6a5fbc04e9d678c91d87a5a" title="compute subset from number">subset</a>, <span class="keywordtype">int</span> <a class="code" href="a00185.html#78d9bada70f1272a0f4f9f930b2ec196" title="compute index in subset from number">index</a>) <span class="keyword">const</span>;
<a name="l00041"></a>00041 
<a name="l00043"></a>00043         <span class="keywordtype">int</span> <a class="code" href="a00185.html#48c48ba9f6a5fbc04e9d678c91d87a5a" title="compute subset from number">subset</a> (<span class="keywordtype">int</span> n) <span class="keyword">const</span>;
<a name="l00044"></a>00044 
<a name="l00046"></a>00046         <span class="keywordtype">int</span> <a class="code" href="a00185.html#78d9bada70f1272a0f4f9f930b2ec196" title="compute index in subset from number">index</a> (<span class="keywordtype">int</span> n) <span class="keyword">const</span>;
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="keyword">private</span>:
<a name="l00049"></a>00049         array&lt;int,dim&gt; N;   <span class="comment">// number of elements per direction</span>
<a name="l00050"></a>00050         <span class="keywordtype">int</span> offset[dim+1];  <span class="comment">// P[i] = Sum_{i=0}^{i} N[i];</span>
<a name="l00051"></a>00051 };
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 
<a name="l00076"></a>00076 <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> dim&gt;
<a name="l00077"></a><a class="code" href="a00068.html">00077</a> <span class="keyword">class </span><a class="code" href="a00068.html">CubeMapper</a> {
<a name="l00078"></a>00078 <span class="keyword">public</span>:
<a name="l00080"></a>00080         <a class="code" href="a00068.html#8366296a4fb1be37677f471a32827c25" title="make cube of single element">CubeMapper</a> (<span class="keyword">const</span> array&lt;int,dim&gt;&amp; _NN);
<a name="l00081"></a>00081 
<a name="l00083"></a>00083         <a class="code" href="a00068.html#8366296a4fb1be37677f471a32827c25" title="make cube of single element">CubeMapper</a> ();
<a name="l00084"></a>00084 
<a name="l00086"></a>00086         <span class="keywordtype">void</span> <a class="code" href="a00068.html#57355510dc06b0e9b67c5b27400e8c54" title="(re)initialize with number of elements (of codim 0) in each direction">make</a> (<span class="keyword">const</span> array&lt;int,dim&gt;&amp; _NN);
<a name="l00087"></a>00087 
<a name="l00089"></a>00089         <span class="keywordtype">int</span> <a class="code" href="a00068.html#5e29903fe11682c1c6aef77730ea1089" title="get number of elements in each codimension">elements</a> (<span class="keywordtype">int</span> <a class="code" href="a00068.html#9dc9df8015559604d10c057f95ba8855" title="compute codim from coordinate">codim</a>) <span class="keyword">const</span>;
<a name="l00090"></a>00090 
<a name="l00092"></a>00092         <span class="keywordtype">int</span> <a class="code" href="a00068.html#9dc9df8015559604d10c057f95ba8855" title="compute codim from coordinate">codim</a> (<span class="keyword">const</span> array&lt;int,dim&gt;&amp; <a class="code" href="a00068.html#71cdb0de0e506cfff8940a576092e62d" title="compute coordinates from number and codimension">z</a>) <span class="keyword">const</span>;
<a name="l00093"></a>00093 
<a name="l00097"></a>00097         <span class="keywordtype">int</span> <a class="code" href="a00068.html#adaeb055a7f41bb0c771050cbfe91c60">n</a> (<span class="keyword">const</span> array&lt;int,dim&gt;&amp; z) <span class="keyword">const</span>;
<a name="l00098"></a>00098 
<a name="l00100"></a>00100         array&lt;int,dim&gt; <a class="code" href="a00068.html#71cdb0de0e506cfff8940a576092e62d" title="compute coordinates from number and codimension">z</a> (<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> codim) <span class="keyword">const</span>;
<a name="l00101"></a>00101 
<a name="l00103"></a>00103         array&lt;int,dim&gt; <a class="code" href="a00068.html#abe633584fef77116b86c5fdc3e4b145" title="compress from expanded coordinates to grid for a single partition number">compress</a> (<span class="keyword">const</span> array&lt;int,dim&gt;&amp; z) <span class="keyword">const</span>; 
<a name="l00104"></a>00104 
<a name="l00106"></a>00106         array&lt;int,dim&gt; <a class="code" href="a00068.html#d431ac2d49053c0ca42feb40fde2a5dd" title="expand with respect to partition number">expand</a> (<span class="keyword">const</span> array&lt;int,dim&gt;&amp; r, <span class="keywordtype">int</span> b) <span class="keyword">const</span>; 
<a name="l00107"></a>00107 
<a name="l00109"></a>00109         <span class="keywordtype">int</span> <a class="code" href="a00068.html#6310750630a3e3536f0b468cb4f75479" title="There are  possibilities of having even/odd coordinates. The binary representation...">partition</a> (<span class="keyword">const</span> array&lt;int,dim&gt;&amp; z) <span class="keyword">const</span>; 
<a name="l00110"></a>00110 
<a name="l00112"></a>00112         <span class="keywordtype">void</span> <a class="code" href="a00068.html#11451150b8a553cb7854c4bd33f3356c" title="print internal data">print</a> (std::ostream&amp; ss, <span class="keywordtype">int</span> indent) <span class="keyword">const</span>;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <span class="keyword">private</span>:
<a name="l00115"></a>00115         array&lt;int,dim&gt; N; <span class="comment">// number of elements per direction</span>
<a name="l00116"></a>00116         <span class="keywordtype">int</span> ne[dim+1];    <span class="comment">// number of elements per codimension</span>
<a name="l00117"></a>00117         <span class="keywordtype">int</span> nb[1&lt;&lt;dim];   <span class="comment">// number of elements per binary partition</span>
<a name="l00118"></a>00118         <span class="keywordtype">int</span> cb[1&lt;&lt;dim];   <span class="comment">// codimension of binary partition</span>
<a name="l00119"></a>00119         <a class="code" href="a00212.html" title="generate lexicographic ordering in a cube of dimension dim with arbitry size per...">LexOrder&lt;dim&gt;</a> lex[1&lt;&lt;dim];     <span class="comment">// lex ordering within binary partition</span>
<a name="l00120"></a>00120         <a class="code" href="a00185.html" title="generate consecutive numbering of dim sets of size N_i">JoinOrder&lt;1&lt;&lt;dim&gt;</a> join[dim+1]; <span class="comment">// join subsets of codimension</span>
<a name="l00121"></a>00121 
<a name="l00122"></a>00122         <span class="keywordtype">int</span> power2 (<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{<span class="keywordflow">return</span> 1&lt;&lt;i;}
<a name="l00123"></a>00123         <span class="keywordtype">int</span> ones (<span class="keywordtype">int</span> b) <span class="keyword">const</span>; <span class="comment">// count number of bits set in binary rep of b</span>
<a name="l00124"></a>00124 };
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 } <span class="comment">// end namespace</span>
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 <span class="preprocessor">#include"numbering.cc"</span>
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="preprocessor">#endif</span>
</pre></div></div>
</div> <!-- end doxygen -->
</div> <!-- end main -->
<div class="foot">

<p class="foot">
  Generated on 6 Nov 2008 with <a
  href="http://www.doxygen.org/">Doxygen</a> (ver 1.5.6)  
  [<a href="doxygen.log">logfile</a>].
</p>

</div>

</body>
</html>
