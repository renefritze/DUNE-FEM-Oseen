<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN""http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>dune-grid: Dune::IdSet&lt; GridImp, IdSetImp, IdTypeImp &gt; Class Template Reference (dune-grid )</title>
  <link rel="stylesheet" type="text/css" href="./dune-doxy.css">
  <link rel="stylesheet" type="text/css" href="./tabs.css">
</head>
<div class="main">
<div class="doxygen">
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="a00441.html">Dune</a>::<a class="el" href="a00143.html">IdSet</a>
  </div>
</div>
<div class="contents">
<h1>Dune::IdSet&lt; GridImp, IdSetImp, IdTypeImp &gt; Class Template Reference<br>
<small>
[<a class="el" href="a00498.html">IndexSet and IdSet</a>]</small>
</h1><!-- doxytag: class="Dune::IdSet" --><code>#include &lt;<a class="el" href="a00624.html">indexidset.hh</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Dune::IdSet&lt; GridImp, IdSetImp, IdTypeImp &gt;:</div>
<div class="dynsection">

<p><center><img src="a00143.png" usemap="#Dune::IdSet< GridImp, IdSetImp, IdTypeImp >_map" border="0" alt=""></center>
<map name="Dune::IdSet< GridImp, IdSetImp, IdTypeImp >_map">
<area href="a00144.html" alt="Dune::IdSetDefaultImplementation< GridImp, IdSetImp, IdTypeImp >" shape="rect" coords="1264,56,2518,80">
<area href="a00144.html" alt="Dune::IdSetDefaultImplementation< Dune::AlbertaGrid< dim, dimworld >, Dune::AlbertaGridIdSet< dim, dimworld >, int >" shape="rect" coords="1264,112,2518,136">
<area href="a00144.html" alt="Dune::IdSetDefaultImplementation< Dune::ALU2dGrid< dim, dimworld >, Dune::ALU2dGridLocalIdSet< dim, dimworld >, int >" shape="rect" coords="1264,168,2518,192">
<area href="a00144.html" alt="Dune::IdSetDefaultImplementation< Dune::ALU3dGrid< dim, dimworld, elType >, Dune::ALU3dGridGlobalIdSet< dim, dimworld, elType >, Dune::ALU3dGrid< dim, dimworld, elType >::Traits::GlobalIdType >" shape="rect" coords="1264,224,2518,248">
<area href="a00144.html" alt="Dune::IdSetDefaultImplementation< Dune::ALU3dGrid< dim, dimworld, elType >, Dune::ALU3dGridLocalIdSet< dim, dimworld, elType >, int >" shape="rect" coords="1264,280,2518,304">
<area href="a00144.html" alt="Dune::IdSetDefaultImplementation< Dune::SGrid< dim, dimworld >, Dune::SGridGlobalIdSet< Dune::SGrid< dim, dimworld > >, remove_const< Dune::Dune::SGrid< dim, dimworld > >::type::PersistentIndexType >" shape="rect" coords="1264,336,2518,360">
<area href="a00144.html" alt="Dune::IdSetDefaultImplementation< Dune::YaspGrid< dim, dimworld >, Dune::YaspGlobalIdSet< Dune::YaspGrid< dim, dimworld > >, remove_const< Dune::Dune::YaspGrid< dim, dimworld > >::type::PersistentIndexType >" shape="rect" coords="1264,392,2518,416">
<area href="a00144.html" alt="Dune::IdSetDefaultImplementation< GridImp, Dune::SGridGlobalIdSet< GridImp >, remove_const< GridImp >::type::PersistentIndexType >" shape="rect" coords="1264,448,2518,472">
<area href="a00144.html" alt="Dune::IdSetDefaultImplementation< GridImp, Dune::YaspGlobalIdSet< GridImp >, remove_const< GridImp >::type::PersistentIndexType >" shape="rect" coords="1264,504,2518,528">
</map>
</div>

<p>
<a href="a00796.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class GridImp, class IdSetImp, class IdTypeImp&gt;<br>
 class Dune::IdSet&lt; GridImp, IdSetImp, IdTypeImp &gt;</h3>

Id Set Interface. 
<p>
This class template is used as a base class for all id set implementations. It uses the Barton-Nackman trick to ensure conformity to the interface.<p>
Template parameters are:<p>
<ul>
<li><code>GridImp</code> Type that is a model of <a class="el" href="a00100.html" title="Grid abstract base classThis class is the base class for all grid implementations...">Dune::Grid</a>.</li><li><code>IdSetImp</code> Type that is a model of <a class="el" href="a00143.html" title="Id Set Interface.">Dune::IdSet</a>.</li><li><code>IdTypeImp</code> Traits class containing return types depending on implementation.</li></ul>
<p>
<h3>Overview</h3>
<p>
An id set provides a map <p class="formulaDsp">
<img class="formulaDsp" alt="\[ m : E \to \mathbf{I}\]" src="form_54.png">
<p>
 where <img class="formulaInl" alt="$E$" src="form_45.png"> is a subset of the entities of a grid and <img class="formulaInl" alt="$\mathbf{I}$" src="form_55.png"> is a discrete set of ids. These ids need not be consecutive nor positive. However, the C++ type that implements them is required to provide <code>operator&lt;()</code> and <code>operator==()</code>. Hence they can be used as keys in an STL <code>map</code>.<p>
The index map <img class="formulaInl" alt="$m$" src="form_48.png"> has the following properties:<p>
<ul>
<li>It is injective, i.e. for any <img class="formulaInl" alt="$e,e^\prime\in E$" src="form_56.png"> we have <img class="formulaInl" alt="$e\neq e^\prime \Rightarrow m(e)\neq m(e^\prime)$" src="form_57.png">.</li><li>It is persistent with respect to grid modification, i.e. if there exists an entity <img class="formulaInl" alt="$e$" src="form_58.png"> with id <img class="formulaInl" alt="$i$" src="form_59.png"> before grid modification and an entity <img class="formulaInl" alt="$e^\prime$" src="form_60.png"> with id <img class="formulaInl" alt="$i$" src="form_59.png"> after mesh modification it is guaranteed that <img class="formulaInl" alt="$e=e^\prime$" src="form_61.png">.</li></ul>
<p>
The set of ids <img class="formulaInl" alt="$ \mathbf{I} = \{i\ |\ \exists e\in E : m(e)=i\}$" src="form_62.png"> used by the id set is not necessarily consecutive. In practice the numbers can be quite large, especially in a parallel implementation. Therefore the type used to represent the id can be chosen by the application.<p>
<h3>Ids and leaf entities</h3>
<p>
An element is a copy of its father element if it is the only son. This concept can be transfered to all higher codimensions because in a nested grid structure the entities of any codimension form a set of trees. However, the roots of these trees are not necessarily on level 0. Thus, we define that an entity is a copy of another entity if it is the only descendant of this entity in the refinement tree. This is illustrated in the following figure where, for example, vertex w is a copy of vertex v.<p>
<div align="center">
<img src="idlocalref.png" alt="idlocalref.png">
<p><strong>Sharing of ids.</strong></p></div>
 <p>
The copy relation can be trivially extended to be an equivalence relation. With respect to ids we define that <em> all copies of an entity share the same id.</em> In the example of the figure the vertices v and w would have the same id.<p>
This definition is useful to transfer data related to the leaf grid during grid modification.<p>
<h3>Global id set</h3>
<p>
A global id set provides ids that are unique over all processes over wich the grid is distributed. All grid implementations provide a global id set.<p>
<h3>Local id set</h3>
<p>
A local id set provides ids that are unique within one process but two entities in different processes may have the same id. Obviously, a global id set is also a local id set. A grid implementation may provide an extra local id set for efficiency reasons. In sequential grids local and global id set are identical. All grid implementations provide a local id set. <table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7da8f5ba2179b1896017b5b1016d6011"></a><!-- doxytag: member="Dune::IdSet::IdType" ref="7da8f5ba2179b1896017b5b1016d6011" args="" -->
typedef IdTypeImp&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00143.html#7da8f5ba2179b1896017b5b1016d6011">IdType</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type used to represent an id. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="bf34664075b273ca806abd02e0d7e929"></a><!-- doxytag: member="Dune::IdSet::id" ref="bf34664075b273ca806abd02e0d7e929" args="(const EntityType &amp;e) const " -->
template&lt;class EntityType&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top"><a class="el" href="a00143.html#7da8f5ba2179b1896017b5b1016d6011">IdType</a>&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00143.html#bf34664075b273ca806abd02e0d7e929">id</a> (const EntityType &amp;e) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get id of an entity. This method is simpler to use than the one below. <br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="97a56eb56eb73e75d71864ef607454d9"></a><!-- doxytag: member="Dune::IdSet::id" ref="97a56eb56eb73e75d71864ef607454d9" args="(const typename remove_const&lt; GridImp &gt;::type::Traits::template Codim&lt; cc &gt;::Entity &amp;e) const " -->
template&lt;int cc&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top"><a class="el" href="a00143.html#7da8f5ba2179b1896017b5b1016d6011">IdType</a>&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00143.html#97a56eb56eb73e75d71864ef607454d9">id</a> (const typename remove_const&lt; GridImp &gt;::type::Traits::template Codim&lt; cc &gt;::<a class="el" href="a00082.html">Entity</a> &amp;e) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get id of an entity of codim cc. Unhandy because template parameter must be supplied explicitely. <br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="de819cc2781f5ae2a1f634c17c315ae5"></a><!-- doxytag: member="Dune::IdSet::subId" ref="de819cc2781f5ae2a1f634c17c315ae5" args="(const typename remove_const&lt; GridImp &gt;::type::Traits::template Codim&lt; 0 &gt;::Entity &amp;e, int i) const " -->
template&lt;int cc&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top"><a class="el" href="a00143.html#7da8f5ba2179b1896017b5b1016d6011">IdType</a>&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00143.html#de819cc2781f5ae2a1f634c17c315ae5">subId</a> (const typename remove_const&lt; GridImp &gt;::type::Traits::template Codim&lt; 0 &gt;::<a class="el" href="a00082.html">Entity</a> &amp;e, int i) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get id of subentity i of codim cc of a codim 0 entity. <br></td></tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="a00624.html">indexidset.hh</a></ul>
</div>
</div> <!-- end doxygen -->
</div> <!-- end main -->
<div class="foot">

<p class="foot">
  Generated on 6 Nov 2008 with <a
  href="http://www.doxygen.org/">Doxygen</a> (ver 1.5.6)  
  [<a href="doxygen.log">logfile</a>].
</p>

</div>

</body>
</html>
