<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN""http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>dune-grid: entity.hh Source File (dune-grid )</title>
  <link rel="stylesheet" type="text/css" href="./dune-doxy.css">
  <link rel="stylesheet" type="text/css" href="./tabs.css">
</head>
<div class="main">
<div class="doxygen">
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_5edca94048dae04696b7e65d07cd8e9c.html">grid</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_cbb40b532500855a4d3fb2d96695f9bb.html">common</a>
  </div>
</div>
<div class="contents">
<h1>common/entity.hh</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef DUNE_GRID_ENTITY_HH</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define DUNE_GRID_ENTITY_HH</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;dune/common/typetraits.hh&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include "<a class="code" href="a00394.html" title="Different resources needed by all grid implementations.">grid.hh</a>"</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="keyword">namespace </span>Dune
<a name="l00008"></a>00008 {
<a name="l00009"></a>00009 
<a name="l00079"></a>00079 <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> cd, <span class="keywordtype">int</span> dim, <span class="keyword">class</span> Gr<span class="keywordtype">id</span>Imp, <span class="keyword">template</span>&lt;<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keyword">class</span>&gt; <span class="keyword">class </span>EntityImp&gt;
<a name="l00080"></a><a class="code" href="a00082.html">00080</a> <span class="keyword">class </span><a class="code" href="a00082.html" title="Wrapper class for entities.">Entity</a> {
<a name="l00081"></a>00081   <span class="keyword">enum</span> { dimworld = GridImp::dimensionworld };
<a name="l00082"></a>00082   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::ctype ct;
<a name="l00083"></a>00083 <span class="keyword">protected</span>:
<a name="l00084"></a>00084   EntityImp&lt;cd,dim,GridImp&gt; realEntity;
<a name="l00085"></a>00085 <span class="keyword">public</span>:
<a name="l00086"></a>00086 
<a name="l00087"></a>00087   <span class="comment">//===========================================================</span>
<a name="l00091"></a>00091 <span class="comment"></span>  <span class="comment">//===========================================================</span>
<a name="l00092"></a>00092 <span class="keyword">protected</span>:
<a name="l00093"></a>00093   <span class="comment">// The type of the wrapped implementation, for internal use only</span>
<a name="l00094"></a>00094   <span class="keyword">typedef</span> EntityImp&lt;cd,dim,GridImp&gt; ImplementationType; 
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 <span class="keyword">public</span>:
<a name="l00098"></a><a class="code" href="a00082.html#5e1fb35208769300c1760d11a96ea829">00098</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::template Codim&lt;cd&gt;::Geometry <a class="code" href="a00094.html" title="Wrapper class for geometries.">Geometry</a>;
<a name="l00099"></a>00099 
<a name="l00100"></a>00100   <span class="keyword">enum</span> {
<a name="l00102"></a><a class="code" href="a00082.html#e576fee868d61839a5e2030edcbb1d020ce22137a3853646973cf5cd16c87868">00102</a>     <a class="code" href="a00082.html#e576fee868d61839a5e2030edcbb1d020ce22137a3853646973cf5cd16c87868" title="Know your own codimension.">codimension</a>=cd
<a name="l00103"></a>00103   };
<a name="l00104"></a>00104   <span class="keyword">enum</span> {
<a name="l00106"></a><a class="code" href="a00082.html#d298a9c768fc8335a4ef6bffeeaf878b06733de84ef5874f7387f9a8c83bed55">00106</a>     <a class="code" href="a00082.html#d298a9c768fc8335a4ef6bffeeaf878b06733de84ef5874f7387f9a8c83bed55" title="Know the grid dimension.">dimension</a>=dim
<a name="l00107"></a>00107   };
<a name="l00108"></a>00108   <span class="keyword">enum</span> {
<a name="l00110"></a><a class="code" href="a00082.html#bd78aad21be8da201aede5ecc78b5bddd3b212d74a3f912a998261ad94f03df0">00110</a>     <a class="code" href="a00082.html#bd78aad21be8da201aede5ecc78b5bddd3b212d74a3f912a998261ad94f03df0" title="Dimensionality of the reference element of the entity.">mydimension</a>=dim-cd
<a name="l00111"></a>00111   };
<a name="l00112"></a>00112   <span class="keyword">enum</span> {
<a name="l00114"></a><a class="code" href="a00082.html#1ae280534f4231740f7acde903d2557ebb48cbdc5c26b0d9dd2b1d67ba9920cb">00114</a>     <a class="code" href="a00082.html#1ae280534f4231740f7acde903d2557ebb48cbdc5c26b0d9dd2b1d67ba9920cb" title="Know the dimension of world.">dimensionworld</a>=dimworld
<a name="l00115"></a>00115   };
<a name="l00116"></a>00116 
<a name="l00118"></a><a class="code" href="a00082.html#4d3fe000676098cb8ec9df0cae54949f">00118</a>   <span class="keyword">typedef</span> ct <a class="code" href="a00082.html#4d3fe000676098cb8ec9df0cae54949f" title="coordinate type of the Grid">ctype</a>;
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 
<a name="l00123"></a>00123   <span class="comment">//===========================================================</span>
<a name="l00127"></a>00127 <span class="comment"></span>  <span class="comment">//===========================================================</span>
<a name="l00128"></a>00128 
<a name="l00130"></a><a class="code" href="a00082.html#51e298c73101955692a6851104eaf9b9">00130</a>   <span class="keywordtype">int</span> <a class="code" href="a00082.html#51e298c73101955692a6851104eaf9b9" title="The level of this entity.">level</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.level(); }
<a name="l00131"></a>00131 
<a name="l00133"></a><a class="code" href="a00082.html#a359da1ebacea2d961f2ceb74250aebe">00133</a>   <a class="code" href="a00492.html#gbd89b77709db1d9e56bb17cd0aa44c3d" title="Attributes used in the generic overlap model.">PartitionType</a> <a class="code" href="a00082.html#a359da1ebacea2d961f2ceb74250aebe" title="Partition type of this entity.">partitionType</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.partitionType(); }
<a name="l00134"></a>00134 
<a name="l00144"></a><a class="code" href="a00082.html#c1ac8ba902bd9d3ad2ee2f795c6f98b9">00144</a>   <span class="keyword">const</span> <a class="code" href="a00094.html" title="Wrapper class for geometries.">Geometry</a>&amp; <a class="code" href="a00082.html#c1ac8ba902bd9d3ad2ee2f795c6f98b9" title="Each entity encapsulates an object of type Dune::Geometry&amp;lt;dimension-codimension...">geometry</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.geometry(); }
<a name="l00146"></a>00146 
<a name="l00150"></a><a class="code" href="a00082.html#92011e28641bbbd2a169dc7c32b64bb7">00150</a>     GeometryType <a class="code" href="a00082.html#92011e28641bbbd2a169dc7c32b64bb7" title="Return the name of the reference element. The type can be used to access the Dune::ReferenceElement...">type</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.type(); };
<a name="l00151"></a>00151 
<a name="l00152"></a>00152   <span class="comment">//===========================================================</span>
<a name="l00156"></a>00156 <span class="comment"></span>  <span class="comment">//===========================================================</span>
<a name="l00157"></a>00157 
<a name="l00159"></a><a class="code" href="a00082.html#e20c191a72cbc05edf49986a590896e0">00159</a>   <span class="keyword">explicit</span> <a class="code" href="a00082.html#e20c191a72cbc05edf49986a590896e0" title="Copy constructor from EntityImp.">Entity</a>(<span class="keyword">const</span> EntityImp&lt;cd,dim,GridImp&gt; &amp; e) : realEntity(e) {};  
<a name="l00160"></a>00160 
<a name="l00161"></a>00161   <span class="comment">/* not part of the interface but maybe in later versions</span>
<a name="l00162"></a>00162 <span class="comment">     \brief Id of the boundary which is associated with the entity, </span>
<a name="l00163"></a>00163 <span class="comment">   returns 0 for inner entities, arbitrary int otherwise </span>
<a name="l00164"></a>00164 <span class="comment">  */</span>
<a name="l00165"></a>00165   <span class="comment">//int boundaryId () const { return realEntity.boundaryId(); }</span>
<a name="l00166"></a>00166 
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <span class="keyword">protected</span>:
<a name="l00170"></a>00170   <span class="keyword">typedef</span> <span class="keyword">typename</span> remove_const&lt;GridImp&gt;::type mutableGridImp;
<a name="l00171"></a>00171   
<a name="l00172"></a>00172   <span class="comment">//===========================================================</span>
<a name="l00176"></a>00176 <span class="comment"></span>  <span class="comment">//===========================================================</span>
<a name="l00177"></a>00177 
<a name="l00178"></a>00178   <span class="comment">// give the GridDefaultImplementation class access to the realImp </span>
<a name="l00179"></a>00179   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00103.html">GridDefaultImplementation</a>&lt;
<a name="l00180"></a>00180             GridImp::<a class="code" href="a00082.html#d298a9c768fc8335a4ef6bffeeaf878b06733de84ef5874f7387f9a8c83bed55" title="Know the grid dimension.">dimension</a>, GridImp::<a class="code" href="a00082.html#1ae280534f4231740f7acde903d2557ebb48cbdc5c26b0d9dd2b1d67ba9920cb" title="Know the dimension of world.">dimensionworld</a>,
<a name="l00181"></a>00181             typename GridImp::<a class="code" href="a00082.html#4d3fe000676098cb8ec9df0cae54949f" title="coordinate type of the Grid">ctype</a>,
<a name="l00182"></a>00182             typename GridImp::GridFamily&gt; ;
<a name="l00183"></a>00183   
<a name="l00185"></a><a class="code" href="a00082.html#d7ab4eeba4f52e83b0d7578784489263">00185</a>   EntityImp&lt;cd,dim,GridImp&gt; &amp; <a class="code" href="a00082.html#d7ab4eeba4f52e83b0d7578784489263" title="return reference to the real implementation">getRealImp</a>() { <span class="keywordflow">return</span> realEntity; }
<a name="l00187"></a><a class="code" href="a00082.html#34df1ee35e9cc96d9f60370c01601baa">00187</a>   <span class="keyword">const</span> EntityImp&lt;cd,dim,GridImp&gt; &amp; <a class="code" href="a00082.html#d7ab4eeba4f52e83b0d7578784489263" title="return reference to the real implementation">getRealImp</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity; }
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 <span class="keyword">protected</span>:  
<a name="l00191"></a><a class="code" href="a00082.html#b408859c07f82dc15e885801a5810d52">00191</a>   <a class="code" href="a00082.html#e20c191a72cbc05edf49986a590896e0" title="Copy constructor from EntityImp.">Entity</a>(<span class="keyword">const</span> <a class="code" href="a00082.html" title="Wrapper class for entities.">Entity</a>&amp; rhs) : realEntity(rhs.realEntity) {};
<a name="l00193"></a><a class="code" href="a00082.html#65dd6873d62f072182e39b556358dd41">00193</a>   <a class="code" href="a00082.html" title="Wrapper class for entities.">Entity</a> &amp; <a class="code" href="a00082.html#65dd6873d62f072182e39b556358dd41">operator = </a>(<span class="keyword">const</span> <a class="code" href="a00082.html" title="Wrapper class for entities.">Entity</a>&amp; rhs) { 
<a name="l00194"></a>00194       realEntity = rhs.<a class="code" href="a00082.html#c9f363d1befd194dce03afbd05fcb08a">realEntity</a>; 
<a name="l00195"></a>00195       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00196"></a>00196   }
<a name="l00198"></a>00198 };
<a name="l00199"></a>00199 
<a name="l00208"></a>00208 <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> dim, <span class="keyword">class</span> Gr<span class="keywordtype">id</span>Imp, <span class="keyword">template</span>&lt;<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keyword">class</span>&gt; <span class="keyword">class </span>EntityImp&gt;
<a name="l00209"></a><a class="code" href="a00083.html">00209</a> <span class="keyword">class </span><a class="code" href="a00082.html" title="Wrapper class for entities.">Entity</a> &lt;0,dim,GridImp,EntityImp&gt; 
<a name="l00210"></a>00210 {
<a name="l00211"></a>00211   <span class="keyword">enum</span> { dimworld = GridImp::dimensionworld };
<a name="l00212"></a>00212   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::ctype ct;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 <span class="keyword">protected</span>:
<a name="l00215"></a>00215   <span class="keyword">typedef</span> <span class="keyword">typename</span> remove_const&lt;GridImp&gt;::type mutableGridImp;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217   EntityImp&lt;0,dim,GridImp&gt; realEntity;
<a name="l00218"></a>00218 
<a name="l00219"></a>00219   <span class="comment">// The type of the wrapped implementation, for internal use only</span>
<a name="l00220"></a>00220   <span class="keyword">typedef</span> EntityImp&lt;0,dim,GridImp&gt; ImplementationType; 
<a name="l00221"></a>00221 <span class="keyword">public</span>:
<a name="l00222"></a>00222 
<a name="l00223"></a>00223   <span class="comment">//===========================================================</span>
<a name="l00227"></a>00227 <span class="comment"></span>  <span class="comment">//===========================================================</span>
<a name="l00228"></a>00228 
<a name="l00230"></a><a class="code" href="a00083.html#179b2a5845941f88f3ce680b7e00ce3e">00230</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::template Codim&lt;0&gt;::Geometry <a class="code" href="a00094.html" title="Wrapper class for geometries.">Geometry</a>;
<a name="l00231"></a>00231 
<a name="l00235"></a><a class="code" href="a00083.html#8b0efca9c2585b1bfd5843fc231503a0">00235</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::template Codim&lt;0&gt;::LocalGeometry LocalGeometry;
<a name="l00236"></a>00236 
<a name="l00238"></a>00238   <span class="keyword">template</span> &lt;<span class="keywordtype">int</span> cd&gt;
<a name="l00239"></a><a class="code" href="a00084.html">00239</a>   <span class="keyword">struct </span>Codim
<a name="l00240"></a>00240   {
<a name="l00241"></a>00241     <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::template Codim&lt;cd&gt;::EntityPointer <a class="code" href="a00087.html" title="Wrapper class for pointers to entities.">EntityPointer</a>;
<a name="l00242"></a>00242   };
<a name="l00243"></a>00243 
<a name="l00245"></a><a class="code" href="a00083.html#e489a085abebbb85c5bfb7120185e1a7">00245</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::template Codim&lt;0&gt;::EntityPointer <a class="code" href="a00087.html" title="Wrapper class for pointers to entities.">EntityPointer</a>;
<a name="l00246"></a>00246 
<a name="l00248"></a><a class="code" href="a00083.html#6b3d6b7dc5d624eec949ab781716e37b">00248</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::template Codim&lt;0&gt;::LeafIntersectionIterator LeafIntersectionIterator;
<a name="l00249"></a>00249 
<a name="l00251"></a><a class="code" href="a00083.html#81034827fb8cf4fc0d7be8ce28c27849">00251</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::template Codim&lt;0&gt;::LevelIntersectionIterator LevelIntersectionIterator;
<a name="l00252"></a>00252 
<a name="l00254"></a><a class="code" href="a00083.html#b5d1441c53696fc25aab557caf1cfdb0">00254</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::template Codim&lt;0&gt;::HierarchicIterator <a class="code" href="a00140.html" title="Enables iteration over all codim zero entities in a subtree See also the documentation...">HierarchicIterator</a>;
<a name="l00255"></a>00255   
<a name="l00256"></a>00256   <span class="keyword">enum</span> { 
<a name="l00258"></a><a class="code" href="a00083.html#d1f2f02c36595faf3872110d08e262e0ec7b81f894378ec4c52618ac21f7d0ad">00258</a>   <a class="code" href="a00082.html#e576fee868d61839a5e2030edcbb1d020ce22137a3853646973cf5cd16c87868" title="Know your own codimension.">codimension</a>=0 
<a name="l00259"></a>00259   };
<a name="l00260"></a>00260   <span class="keyword">enum</span> { 
<a name="l00262"></a><a class="code" href="a00083.html#cd1b9d24ea96d9c78b65142b48ac8abf329982dc5e305ad063733549bc3a68b3">00262</a>   <a class="code" href="a00082.html#d298a9c768fc8335a4ef6bffeeaf878b06733de84ef5874f7387f9a8c83bed55" title="Know the grid dimension.">dimension</a>=dim 
<a name="l00263"></a>00263   };
<a name="l00264"></a>00264   <span class="keyword">enum</span> { 
<a name="l00266"></a><a class="code" href="a00083.html#16c689b075ade608f1711baa59e61f61d8c91e61cda68a0e5d7617712a75f2f7">00266</a>   <a class="code" href="a00082.html#bd78aad21be8da201aede5ecc78b5bddd3b212d74a3f912a998261ad94f03df0" title="Dimensionality of the reference element of the entity.">mydimension</a>=dim 
<a name="l00267"></a>00267   };
<a name="l00268"></a>00268   <span class="keyword">enum</span> { 
<a name="l00270"></a><a class="code" href="a00083.html#9212ea158d6b62792130c05f5018fbb7326fe540b8379b19114bb29ccf5352e8">00270</a>   <a class="code" href="a00082.html#1ae280534f4231740f7acde903d2557ebb48cbdc5c26b0d9dd2b1d67ba9920cb" title="Know the dimension of world.">dimensionworld</a>=dimworld 
<a name="l00271"></a>00271   };
<a name="l00273"></a><a class="code" href="a00083.html#c13be21342b9057e9f9d2d5c48d21231">00273</a>   <span class="keyword">typedef</span> ct <a class="code" href="a00082.html#4d3fe000676098cb8ec9df0cae54949f" title="coordinate type of the Grid">ctype</a>;
<a name="l00275"></a>00275 
<a name="l00276"></a>00276 
<a name="l00277"></a>00277   <span class="comment">//===========================================================</span>
<a name="l00281"></a>00281 <span class="comment"></span>  <span class="comment">//===========================================================</span>
<a name="l00282"></a>00282 
<a name="l00284"></a><a class="code" href="a00083.html#4cf25f025a51b9988e5b081dd407c594">00284</a>   <span class="keywordtype">int</span> <a class="code" href="a00082.html#51e298c73101955692a6851104eaf9b9" title="The level of this entity.">level</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.level(); }
<a name="l00285"></a>00285 
<a name="l00287"></a><a class="code" href="a00083.html#80e15784948d1ad9b15b0da9fdc2bb84">00287</a>   <a class="code" href="a00492.html#gbd89b77709db1d9e56bb17cd0aa44c3d" title="Attributes used in the generic overlap model.">PartitionType</a> <a class="code" href="a00082.html#a359da1ebacea2d961f2ceb74250aebe" title="Partition type of this entity.">partitionType</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.partitionType(); }
<a name="l00288"></a>00288 
<a name="l00290"></a><a class="code" href="a00083.html#6c5dd74f603c4d65a310bbfa6fdc4d8d">00290</a>   <span class="keyword">const</span> <a class="code" href="a00094.html" title="Wrapper class for geometries.">Geometry</a>&amp; <a class="code" href="a00082.html#c1ac8ba902bd9d3ad2ee2f795c6f98b9" title="Each entity encapsulates an object of type Dune::Geometry&amp;lt;dimension-codimension...">geometry</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.geometry(); }
<a name="l00292"></a>00292 
<a name="l00296"></a><a class="code" href="a00083.html#168a0b7bf7fe4bf7eedaa782d97e132f">00296</a>     GeometryType <a class="code" href="a00082.html#92011e28641bbbd2a169dc7c32b64bb7" title="Return the name of the reference element. The type can be used to access the Dune::ReferenceElement...">type</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.type(); };
<a name="l00297"></a>00297 
<a name="l00298"></a>00298   <span class="comment">//===========================================================</span>
<a name="l00302"></a>00302 <span class="comment"></span>  <span class="comment">//===========================================================</span>
<a name="l00303"></a>00303 
<a name="l00309"></a><a class="code" href="a00083.html#9a3195c7e35c39fe435dc603d9c14d2b">00309</a>   <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> cc&gt; <span class="keywordtype">int</span> count ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.count&lt;cc&gt;(); }
<a name="l00310"></a>00310 
<a name="l00313"></a><a class="code" href="a00083.html#dfddc3ee5c47ab12c0c226ea255391df">00313</a>   <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> cc&gt; <span class="keyword">typename</span> Codim&lt;cc&gt;::EntityPointer entity (<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00314"></a>00314 <span class="keyword">    </span>{
<a name="l00315"></a>00315       <span class="keywordflow">return</span> realEntity.entity&lt;cc&gt;(i);
<a name="l00316"></a>00316     }
<a name="l00317"></a>00317  
<a name="l00324"></a><a class="code" href="a00083.html#ffa16ce84eebe16a3338cf6401132534">00324</a>   LeafIntersectionIterator ileafbegin ()<span class="keyword"> const</span>
<a name="l00325"></a>00325 <span class="keyword">    </span>{
<a name="l00326"></a>00326       <span class="keywordflow">return</span> realEntity.ileafbegin();
<a name="l00327"></a>00327     }
<a name="l00328"></a>00328   
<a name="l00331"></a><a class="code" href="a00083.html#8d059d7cf54527d4c99965709f326759">00331</a>   LeafIntersectionIterator ileafend ()<span class="keyword"> const</span>
<a name="l00332"></a>00332 <span class="keyword">    </span>{
<a name="l00333"></a>00333       <span class="keywordflow">return</span> realEntity.ileafend();
<a name="l00334"></a>00334     }
<a name="l00335"></a>00335 
<a name="l00342"></a><a class="code" href="a00083.html#d92d61f03f30b5814fb1f0de590c1310">00342</a>   LevelIntersectionIterator ilevelbegin ()<span class="keyword"> const</span>
<a name="l00343"></a>00343 <span class="keyword">    </span>{
<a name="l00344"></a>00344       <span class="keywordflow">return</span> realEntity.ilevelbegin();
<a name="l00345"></a>00345     }
<a name="l00346"></a>00346   
<a name="l00349"></a><a class="code" href="a00083.html#079d0c1cd6d704c375197e1a4710076a">00349</a>   LevelIntersectionIterator ilevelend ()<span class="keyword"> const</span>
<a name="l00350"></a>00350 <span class="keyword">    </span>{
<a name="l00351"></a>00351       <span class="keywordflow">return</span> realEntity.ilevelend();
<a name="l00352"></a>00352     }
<a name="l00353"></a>00353 
<a name="l00358"></a><a class="code" href="a00083.html#358edb93e05c426b9fe794aaa8fd0a3f">00358</a>   <a class="code" href="a00087.html" title="Wrapper class for pointers to entities.">EntityPointer</a> father ()<span class="keyword"> const</span>
<a name="l00359"></a>00359 <span class="keyword">    </span>{
<a name="l00360"></a>00360       <span class="keywordflow">return</span> realEntity.father();
<a name="l00361"></a>00361     }
<a name="l00362"></a>00362 
<a name="l00364"></a><a class="code" href="a00083.html#3741f5263f1381c882a6e212aac5ee0a">00364</a>   <span class="keywordtype">bool</span> isLeaf ()<span class="keyword"> const</span>
<a name="l00365"></a>00365 <span class="keyword">    </span>{
<a name="l00366"></a>00366       <span class="keywordflow">return</span> realEntity.isLeaf();
<a name="l00367"></a>00367     }
<a name="l00368"></a>00368 
<a name="l00372"></a><a class="code" href="a00083.html#9b7dbfbf25f4076f92a068a3ee85e117">00372</a>   <span class="keywordtype">bool</span> isRegular()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.isRegular(); }
<a name="l00373"></a>00373 
<a name="l00387"></a><a class="code" href="a00083.html#708c2ab76ae1ccb967f93812ce3172c9">00387</a>   <span class="keyword">const</span> LocalGeometry&amp; geometryInFather ()<span class="keyword"> const</span>
<a name="l00388"></a>00388 <span class="keyword">    </span>{
<a name="l00389"></a>00389       <span class="keywordflow">return</span> realEntity.geometryInFather();
<a name="l00390"></a>00390     }
<a name="l00391"></a>00391 
<a name="l00398"></a><a class="code" href="a00083.html#c1342b689a2b581e9c782282365951b4">00398</a>   <a class="code" href="a00140.html" title="Enables iteration over all codim zero entities in a subtree See also the documentation...">HierarchicIterator</a> hbegin (<span class="keywordtype">int</span> maxlevel)<span class="keyword"> const</span>
<a name="l00399"></a>00399 <span class="keyword">    </span>{
<a name="l00400"></a>00400       <span class="keywordflow">return</span> realEntity.hbegin(maxlevel);
<a name="l00401"></a>00401     }
<a name="l00402"></a>00402 
<a name="l00405"></a><a class="code" href="a00083.html#5e32fdf03b6fd89ab3a2611be7966091">00405</a>   <a class="code" href="a00140.html" title="Enables iteration over all codim zero entities in a subtree See also the documentation...">HierarchicIterator</a> hend (<span class="keywordtype">int</span> maxlevel)<span class="keyword"> const</span>
<a name="l00406"></a>00406 <span class="keyword">    </span>{
<a name="l00407"></a>00407       <span class="keywordflow">return</span> realEntity.hend(maxlevel);
<a name="l00408"></a>00408     }
<a name="l00409"></a>00409 
<a name="l00412"></a><a class="code" href="a00083.html#ddea0e7e48bfa3f43513b10a68e377a4">00412</a>   <span class="keywordtype">bool</span> wasRefined ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.wasRefined(); }
<a name="l00413"></a>00413   
<a name="l00416"></a><a class="code" href="a00083.html#02474ea90f41300e8928243e0ab2300d">00416</a>   <span class="keywordtype">bool</span> mightBeCoarsened ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.mightBeCoarsened (); }
<a name="l00417"></a>00417 
<a name="l00418"></a>00418   <span class="comment">//===========================================================</span>
<a name="l00422"></a>00422 <span class="comment"></span>  <span class="comment">//===========================================================</span>
<a name="l00426"></a><a class="code" href="a00083.html#b0af6ff133749d909e8b8390ff306ff9">00426</a> <span class="comment"></span>  <span class="keywordtype">bool</span> hasBoundaryIntersections ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity.hasBoundaryIntersections(); }    
<a name="l00427"></a>00427 
<a name="l00429"></a><a class="code" href="a00083.html#48680fc629ef43d522cb67e55079b25b">00429</a>   <span class="keyword">explicit</span> <a class="code" href="a00082.html#e20c191a72cbc05edf49986a590896e0" title="Copy constructor from EntityImp.">Entity</a>(<span class="keyword">const</span> EntityImp&lt;0,dim,GridImp&gt; &amp; e) : realEntity(e) {};  
<a name="l00430"></a>00430 
<a name="l00431"></a>00431   <span class="comment">// @copydoc Dune::Entity::boundaryId()</span>
<a name="l00432"></a>00432   <span class="comment">// maybe available in later versions </span>
<a name="l00433"></a>00433   <span class="comment">//int boundaryId () const { return realEntity.boundaryId(); }</span>
<a name="l00434"></a>00434 
<a name="l00435"></a>00435   <span class="comment">/* not part of the interface, mybe in later versions </span>
<a name="l00436"></a>00436 <span class="comment">     \brief The boundaryId of the i-th subentity of codimension &lt;tt&gt;cc&lt;/tt&gt;</span>
<a name="l00437"></a>00437 <span class="comment">     </span>
<a name="l00438"></a>00438 <span class="comment">     This does the same as &lt;code&gt;entity&lt;cc&gt;(i).boundaryId()&lt;/code&gt;, but it is</span>
<a name="l00439"></a>00439 <span class="comment">     usually a lot faster.</span>
<a name="l00440"></a>00440 <span class="comment">   */</span>
<a name="l00441"></a>00441   <span class="comment">/*</span>
<a name="l00442"></a>00442 <span class="comment">  template &lt;int cc&gt; int subBoundaryId  ( int i ) const</span>
<a name="l00443"></a>00443 <span class="comment">    {</span>
<a name="l00444"></a>00444 <span class="comment">      return realEntity.subBoundaryId&lt;cc&gt;(i);</span>
<a name="l00445"></a>00445 <span class="comment">    }</span>
<a name="l00446"></a>00446 <span class="comment">  */</span>
<a name="l00447"></a>00447 
<a name="l00449"></a>00449 
<a name="l00450"></a>00450 
<a name="l00451"></a>00451 <span class="keyword">protected</span>:
<a name="l00452"></a>00452   <span class="comment">//===========================================================</span>
<a name="l00456"></a>00456 <span class="comment"></span>  <span class="comment">//===========================================================</span>
<a name="l00457"></a>00457 
<a name="l00458"></a>00458   <span class="comment">// give the GridDefaultImplementation class access to the realImp </span>
<a name="l00459"></a>00459   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00103.html">GridDefaultImplementation</a>&lt;
<a name="l00460"></a>00460             GridImp::<a class="code" href="a00082.html#d298a9c768fc8335a4ef6bffeeaf878b06733de84ef5874f7387f9a8c83bed55" title="Know the grid dimension.">dimension</a>, GridImp::<a class="code" href="a00082.html#1ae280534f4231740f7acde903d2557ebb48cbdc5c26b0d9dd2b1d67ba9920cb" title="Know the dimension of world.">dimensionworld</a>,
<a name="l00461"></a>00461             typename GridImp::<a class="code" href="a00082.html#4d3fe000676098cb8ec9df0cae54949f" title="coordinate type of the Grid">ctype</a>,
<a name="l00462"></a>00462             typename GridImp::GridFamily&gt; ;
<a name="l00463"></a>00463 
<a name="l00465"></a><a class="code" href="a00083.html#c12e6beec7ce45b7ef52c81e586f0d10">00465</a>   EntityImp&lt;0,dim,GridImp&gt; &amp; <a class="code" href="a00082.html#d7ab4eeba4f52e83b0d7578784489263" title="return reference to the real implementation">getRealImp</a>() { <span class="keywordflow">return</span> realEntity; }
<a name="l00467"></a><a class="code" href="a00083.html#60b191c6bcf76f2ddddac65000ce1c42">00467</a>   <span class="keyword">const</span> EntityImp&lt;0,dim,GridImp&gt; &amp; <a class="code" href="a00082.html#d7ab4eeba4f52e83b0d7578784489263" title="return reference to the real implementation">getRealImp</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> realEntity; }
<a name="l00468"></a>00468 
<a name="l00469"></a>00469 <span class="keyword">protected</span>:
<a name="l00471"></a><a class="code" href="a00083.html#4ba4fbfe6c11743a698db6b7705791ad">00471</a>   <a class="code" href="a00082.html#e20c191a72cbc05edf49986a590896e0" title="Copy constructor from EntityImp.">Entity</a>(<span class="keyword">const</span> <a class="code" href="a00082.html" title="Wrapper class for entities.">Entity</a>&amp; rhs) : realEntity(rhs.realEntity) {};
<a name="l00473"></a><a class="code" href="a00083.html#cbff923b87f2959709552b29e983a7da">00473</a>   <a class="code" href="a00082.html" title="Wrapper class for entities.">Entity</a> &amp; <a class="code" href="a00082.html#65dd6873d62f072182e39b556358dd41">operator = </a>(<span class="keyword">const</span> <a class="code" href="a00082.html" title="Wrapper class for entities.">Entity</a>&amp; rhs) {
<a name="l00474"></a>00474     realEntity = rhs.<a class="code" href="a00082.html#c9f363d1befd194dce03afbd05fcb08a">realEntity</a>;
<a name="l00475"></a>00475     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00476"></a>00476   };
<a name="l00478"></a>00478 };
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 
<a name="l00481"></a>00481 <span class="comment">//********************************************************************</span>
<a name="l00492"></a>00492 <span class="comment"></span><span class="keyword">template</span>&lt;<span class="keywordtype">int</span> cd, <span class="keywordtype">int</span> dim, <span class="keyword">class</span> Gr<span class="keywordtype">id</span>Imp, <span class="keyword">template</span>&lt;<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keyword">class</span>&gt; <span class="keyword">class </span>EntityImp&gt;
<a name="l00493"></a><a class="code" href="a00085.html">00493</a> <span class="keyword">class </span><a class="code" href="a00085.html" title="Default Implementations for EntityImp.">EntityDefaultImplementation</a> 
<a name="l00494"></a>00494 {
<a name="l00495"></a>00495   <span class="keyword">enum</span> { dimworld = GridImp::dimensionworld };
<a name="l00496"></a>00496   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::ctype ct;
<a name="l00497"></a>00497 <span class="keyword">public</span>:
<a name="l00499"></a>00499   <span class="keyword">enum</span> { codimension=cd };
<a name="l00500"></a>00500 
<a name="l00502"></a>00502   <span class="keyword">enum</span> { dimension=dim };
<a name="l00503"></a>00503 
<a name="l00505"></a>00505   <span class="keyword">enum</span> { mydimension=dim-cd };
<a name="l00506"></a>00506 
<a name="l00508"></a>00508   <span class="keyword">enum</span> { dimensionworld=dimworld };
<a name="l00509"></a>00509 
<a name="l00511"></a><a class="code" href="a00085.html#115c8680f36832427542f6b5b43f24ca">00511</a>   <span class="keyword">typedef</span> ct <a class="code" href="a00085.html#115c8680f36832427542f6b5b43f24ca" title="define type used for coordinates in grid module">ctype</a>;
<a name="l00512"></a>00512 
<a name="l00516"></a><a class="code" href="a00085.html#4ce43ea94de2a62ea965b09c428f6272">00516</a>     GeometryType <a class="code" href="a00085.html#4ce43ea94de2a62ea965b09c428f6272" title="Return the name of the reference element. The type can be used to access the Dune::ReferenceElement...">type</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> asImp().geometry().type(); };
<a name="l00517"></a>00517 
<a name="l00518"></a>00518 <span class="keyword">private</span>:
<a name="l00520"></a>00520   EntityImp&lt;cd,dim,GridImp&gt;&amp; asImp () 
<a name="l00521"></a>00521   { 
<a name="l00522"></a>00522   <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>EntityImp&lt;cd,dim,GridImp&gt;&amp;<span class="keyword">&gt;</span>(*this); 
<a name="l00523"></a>00523   }
<a name="l00524"></a>00524   <span class="keyword">const</span> EntityImp&lt;cd,dim,GridImp&gt;&amp; asImp ()<span class="keyword"> const </span>
<a name="l00525"></a>00525 <span class="keyword">  </span>{ 
<a name="l00526"></a>00526   <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>EntityImp&lt;cd,dim,GridImp&gt;&amp;<span class="keyword">&gt;</span>(*this); 
<a name="l00527"></a>00527   }
<a name="l00528"></a>00528 }; <span class="comment">// end EntityDefaultImplementation</span>
<a name="l00529"></a>00529 
<a name="l00530"></a>00530 <span class="comment">//********************************************************************</span>
<a name="l00542"></a>00542 <span class="comment"></span><span class="keyword">template</span>&lt;<span class="keywordtype">int</span> dim, <span class="keyword">class</span> Gr<span class="keywordtype">id</span>Imp, <span class="keyword">template</span>&lt;<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keyword">class</span>&gt; <span class="keyword">class </span>EntityImp&gt;
<a name="l00543"></a><a class="code" href="a00086.html">00543</a> <span class="keyword">class </span><a class="code" href="a00085.html" title="Default Implementations for EntityImp.">EntityDefaultImplementation</a> &lt;0,dim,GridImp,EntityImp&gt; 
<a name="l00544"></a>00544 {
<a name="l00545"></a>00545   <span class="keyword">enum</span> { dimworld = GridImp::dimensionworld };
<a name="l00546"></a>00546   <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp::ctype ct;
<a name="l00547"></a>00547 
<a name="l00548"></a>00548 <span class="keyword">public</span>:
<a name="l00550"></a>00550   <span class="keyword">enum</span> { codimension=0 };
<a name="l00551"></a>00551 
<a name="l00553"></a>00553   <span class="keyword">enum</span> { dimension=dim };
<a name="l00554"></a>00554 
<a name="l00556"></a>00556   <span class="keyword">enum</span> { mydimension=dim };
<a name="l00557"></a>00557 
<a name="l00559"></a>00559   <span class="keyword">enum</span> { dimensionworld=dimworld };
<a name="l00560"></a>00560 
<a name="l00562"></a><a class="code" href="a00086.html#650b683e9929af282cc91362cb9c83bf">00562</a>   <span class="keyword">typedef</span> ct <a class="code" href="a00085.html#115c8680f36832427542f6b5b43f24ca" title="define type used for coordinates in grid module">ctype</a>;
<a name="l00563"></a>00563 
<a name="l00567"></a><a class="code" href="a00086.html#99a84715f1aa7f79ca68b5e4b3163720">00567</a>   <span class="keywordtype">bool</span> isRegular()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00568"></a>00568 
<a name="l00572"></a><a class="code" href="a00086.html#1d8222765b2af6adf77ba3419d2b9577">00572</a>     GeometryType <a class="code" href="a00085.html#4ce43ea94de2a62ea965b09c428f6272" title="Return the name of the reference element. The type can be used to access the Dune::ReferenceElement...">type</a> ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> asImp().geometry().type(); };
<a name="l00573"></a>00573 
<a name="l00574"></a>00574   <span class="comment">/* maybe in later versions </span>
<a name="l00575"></a>00575 <span class="comment">   * \brief Default implementation for access to boundaryId of sub entities </span>
<a name="l00576"></a>00576 <span class="comment">   *</span>
<a name="l00577"></a>00577 <span class="comment">   * Default implementation for access to boundaryId via interface method</span>
<a name="l00578"></a>00578 <span class="comment">   * entity&lt;codim&gt;.boundaryId(), default is very slow, but works, can be</span>
<a name="l00579"></a>00579 <span class="comment">   * overloaded be the actual grid implementation.</span>
<a name="l00580"></a>00580 <span class="comment">   */</span>
<a name="l00581"></a>00581   <span class="comment">/*</span>
<a name="l00582"></a>00582 <span class="comment">  template &lt;int cc&gt; int subBoundaryId  ( int i ) const</span>
<a name="l00583"></a>00583 <span class="comment">    {</span>
<a name="l00584"></a>00584 <span class="comment">      return (asImp().template entity&lt;cc&gt;(i))-&gt;boundaryId();</span>
<a name="l00585"></a>00585 <span class="comment">    }</span>
<a name="l00586"></a>00586 <span class="comment">  */</span>
<a name="l00587"></a>00587 
<a name="l00590"></a><a class="code" href="a00086.html#1347b353797ee4a337872f0af5774910">00590</a>   <span class="keywordtype">bool</span> wasRefined ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00591"></a>00591 
<a name="l00594"></a><a class="code" href="a00086.html#b903545e56653df50f86d39e26c476ac">00594</a>   <span class="keywordtype">bool</span> mightBeCoarsened ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00595"></a>00595 
<a name="l00600"></a><a class="code" href="a00086.html#e0645c764d023b798498bde273d04b2f">00600</a>   <span class="keywordtype">bool</span> hasBoundaryIntersections ()<span class="keyword"> const </span>
<a name="l00601"></a>00601 <span class="keyword">  </span>{
<a name="l00602"></a>00602     {
<a name="l00603"></a>00603       <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp :: template Codim&lt;0&gt; :: LevelIntersectionIterator
<a name="l00604"></a>00604         <a class="code" href="a00154.html" title="Mesh entities of codimension 0 (&amp;quot;elements&amp;quot;) allow to visit all intersections...">IntersectionIterator</a>; 
<a name="l00605"></a>00605       IntersectionIterator end = asImp().ilevelend();
<a name="l00606"></a>00606       <span class="keywordflow">for</span>(IntersectionIterator it = asImp().ilevelbegin(); it != end; ++it)
<a name="l00607"></a>00607       {
<a name="l00608"></a>00608         <span class="keywordflow">if</span>( it.boundary() ) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00609"></a>00609       }
<a name="l00610"></a>00610     }
<a name="l00611"></a>00611     
<a name="l00612"></a>00612     {
<a name="l00613"></a>00613       <span class="keyword">typedef</span> <span class="keyword">typename</span> GridImp :: template Codim&lt;0&gt; :: LeafIntersectionIterator
<a name="l00614"></a>00614         <a class="code" href="a00154.html" title="Mesh entities of codimension 0 (&amp;quot;elements&amp;quot;) allow to visit all intersections...">IntersectionIterator</a>; 
<a name="l00615"></a>00615       IntersectionIterator end = asImp().ileafend();
<a name="l00616"></a>00616       <span class="keywordflow">for</span>(IntersectionIterator it = asImp().ileafbegin(); it != end; ++it)
<a name="l00617"></a>00617       {
<a name="l00618"></a>00618         <span class="keywordflow">if</span>( it.boundary() ) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00619"></a>00619       }
<a name="l00620"></a>00620     }
<a name="l00621"></a>00621     
<a name="l00622"></a>00622     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00623"></a>00623   }
<a name="l00624"></a>00624 
<a name="l00625"></a>00625 <span class="keyword">private</span>:
<a name="l00626"></a>00626   <span class="comment">//  Barton-Nackman trick </span>
<a name="l00627"></a>00627   EntityImp&lt;0,dim,GridImp&gt;&amp; asImp () { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>EntityImp&lt;0,dim,GridImp&gt;&amp;<span class="keyword">&gt;</span>(*this); }
<a name="l00628"></a>00628   <span class="keyword">const</span> EntityImp&lt;0,dim,GridImp&gt;&amp; asImp ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>EntityImp&lt;0,dim,GridImp&gt;&amp;<span class="keyword">&gt;</span>(*this); }
<a name="l00629"></a>00629 };
<a name="l00630"></a>00630 
<a name="l00631"></a>00631 }
<a name="l00632"></a>00632 
<a name="l00633"></a>00633 <span class="preprocessor">#endif // DUNE_GRID_ENTITY_HH</span>
</pre></div></div>
</div> <!-- end doxygen -->
</div> <!-- end main -->
<div class="foot">

<p class="foot">
  Generated on 6 Nov 2008 with <a
  href="http://www.doxygen.org/">Doxygen</a> (ver 1.5.6)  
  [<a href="doxygen.log">logfile</a>].
</p>

</div>

</body>
</html>
