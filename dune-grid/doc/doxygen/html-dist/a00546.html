<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN""http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>dune-grid: amirameshwriter.hh Source File (dune-grid )</title>
  <link rel="stylesheet" type="text/css" href="./dune-doxy.css">
  <link rel="stylesheet" type="text/css" href="./tabs.css">
</head>
<div class="main">
<div class="doxygen">
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_5edca94048dae04696b7e65d07cd8e9c.html">grid</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_3cbbda19b620c3b02e4a6bd399f608fa.html">io</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_65252ab1f1f5370a7d40c0347a12070d.html">file</a>
  </div>
</div>
<div class="contents">
<h1>amirameshwriter.hh</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef DUNE_AMIRAMESH_WRITER_HH</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define DUNE_AMIRAMESH_WRITER_HH</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;amiramesh/AmiraMesh.h&gt;</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="keyword">namespace </span>Dune {
<a name="l00010"></a>00010    
<a name="l00015"></a>00015     <span class="keyword">template</span>&lt;<span class="keyword">class</span> Gr<span class="keywordtype">id</span>Type, <span class="keyword">class</span> IndexSetType&gt;
<a name="l00016"></a><a class="code" href="a00060.html">00016</a>     <span class="keyword">class </span><a class="code" href="a00060.html" title="Provides file writing facilities in the AmiraMesh format.">AmiraMeshWriter</a> {
<a name="l00017"></a>00017 
<a name="l00018"></a>00018         <span class="keyword">enum</span> {dim = <a class="code" href="a00100.html#9cd7ecb5cc83c871fe433e8e99b8baa93d6a22a414566af9b4a356f760fce944" title="The dimension of the grid.">GridType::dimension</a>};
<a name="l00019"></a>00019 
<a name="l00020"></a>00020     <span class="keyword">public</span>:
<a name="l00021"></a>00021 
<a name="l00029"></a>00029         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Gr<span class="keywordtype">id</span>Type2, <span class="keyword">class</span> IndexSetType2&gt;
<a name="l00030"></a>00030         <span class="keywordtype">void</span> <a class="code" href="a00060.html#00a1a0a2656b9794a6ddbcf18dc42308" title="Add grid with a given index set.">addGrid</a>(<span class="keyword">const</span> GridType2&amp; grid, <span class="keyword">const</span> IndexSetType2&amp; indexSet, <span class="keywordtype">bool</span> splitQuads=<span class="keyword">false</span>);
<a name="l00031"></a>00031 
<a name="l00039"></a>00039         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Gr<span class="keywordtype">id</span>Type2&gt;
<a name="l00040"></a>00040         <span class="keywordtype">void</span> <a class="code" href="a00060.html#319418bf0129c008ff352bd0b810105f" title="Add level grid.">addLevelGrid</a>(<span class="keyword">const</span> GridType2&amp; grid, <span class="keywordtype">int</span> level, <span class="keywordtype">bool</span> splitQuads=<span class="keyword">false</span>);
<a name="l00041"></a>00041 
<a name="l00048"></a>00048         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Gr<span class="keywordtype">id</span>Type2&gt;
<a name="l00049"></a>00049         <span class="keywordtype">void</span> <a class="code" href="a00060.html#98c284ad343c5e1cc8136afe6d297431" title="Add leaf grid.">addLeafGrid</a>(<span class="keyword">const</span> GridType2&amp; grid, <span class="keywordtype">bool</span> splitQuads=<span class="keyword">false</span>);
<a name="l00050"></a>00050 
<a name="l00052"></a>00052         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Gr<span class="keywordtype">id</span>Type2, <span class="keyword">class</span> DataContainer&gt;
<a name="l00053"></a>00053         <span class="keywordtype">void</span> <a class="code" href="a00060.html#6a36f29d192d9d2969df0d642bf380c9" title="Add cell data.">addCellData</a>(<span class="keyword">const</span> DataContainer&amp; data, <span class="keyword">const</span> GridType2&amp; grid);
<a name="l00054"></a>00054 
<a name="l00059"></a>00059         <span class="keyword">template</span> &lt;<span class="keyword">class</span> DataContainer&gt;
<a name="l00060"></a>00060         <span class="keywordtype">void</span> <a class="code" href="a00060.html#ba95a0cff393907e1a77337dac37ae7d" title="Add vertex data.">addVertexData</a>(<span class="keyword">const</span> DataContainer&amp; data, <span class="keyword">const</span> IndexSetType&amp; indexSet);
<a name="l00061"></a>00061 
<a name="l00066"></a>00066         <span class="keywordtype">void</span> <a class="code" href="a00060.html#1599676845f5466d508333a48c505931" title="Write AmiraMesh object to disk.">write</a>(<span class="keyword">const</span> std::string&amp; filename, <span class="keywordtype">bool</span> <a class="code" href="a00441.html#71ee5db4cda90b4be804e93e2de8363ed191f6d1136459d7f10ee3e0ad5ad825" title="store data in a human readable form">ascii</a>=<span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068     <span class="keyword">protected</span>:
<a name="l00069"></a>00069         
<a name="l00070"></a>00070         AmiraMesh amiramesh_;
<a name="l00071"></a>00071     };
<a name="l00072"></a>00072 
<a name="l00077"></a>00077     <span class="keyword">template</span>&lt;<span class="keyword">class</span> Gr<span class="keywordtype">id</span>Type&gt;
<a name="l00078"></a><a class="code" href="a00199.html">00078</a>     <span class="keyword">class </span><a class="code" href="a00199.html" title="Provides file writing facilities in the AmiraMesh format for level grids.">LevelAmiraMeshWriter</a> 
<a name="l00079"></a>00079         : <span class="keyword">public</span> <a class="code" href="a00060.html" title="Provides file writing facilities in the AmiraMesh format.">AmiraMeshWriter</a>&lt;GridType,typename GridType::Traits::LevelIndexSet&gt;
<a name="l00080"></a>00080     {
<a name="l00081"></a>00081 
<a name="l00082"></a>00082         <span class="keyword">enum</span> {dim = <a class="code" href="a00100.html#9cd7ecb5cc83c871fe433e8e99b8baa93d6a22a414566af9b4a356f760fce944" title="The dimension of the grid.">GridType::dimension</a>};
<a name="l00083"></a>00083 
<a name="l00084"></a>00084         <span class="keyword">typedef</span> <a class="code" href="a00060.html" title="Provides file writing facilities in the AmiraMesh format.">AmiraMeshWriter&lt;GridType,typename GridType::Traits::LevelIndexSet&gt;</a> <a class="code" href="a00060.html" title="Provides file writing facilities in the AmiraMesh format.">WriterType</a>;
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <span class="keyword">public</span>:
<a name="l00087"></a>00087 
<a name="l00089"></a><a class="code" href="a00199.html#fed4c47b6671637d356b30b395de432c">00089</a>         <a class="code" href="a00199.html#fed4c47b6671637d356b30b395de432c" title="Default constructor.">LevelAmiraMeshWriter</a>() {}
<a name="l00090"></a>00090 
<a name="l00092"></a><a class="code" href="a00199.html#5ea76566707bce2efb54e4125f1750c5">00092</a>         <a class="code" href="a00199.html#fed4c47b6671637d356b30b395de432c" title="Default constructor.">LevelAmiraMeshWriter</a>(<span class="keyword">const</span> <a class="code" href="a00299.html">GridType</a>&amp; grid, <span class="keywordtype">int</span> level) {
<a name="l00093"></a>00093             this-&gt;<a class="code" href="a00060.html#319418bf0129c008ff352bd0b810105f" title="Add level grid.">addLevelGrid</a>(grid, level);
<a name="l00094"></a>00094         }
<a name="l00095"></a>00095 
<a name="l00102"></a><a class="code" href="a00199.html#acdf62f95e87a51301221c1b1d786cb7">00102</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="a00199.html#acdf62f95e87a51301221c1b1d786cb7" title="Write a grid in AmiraMesh format.">writeGrid</a>(<span class="keyword">const</span> <a class="code" href="a00299.html">GridType</a>&amp; grid, 
<a name="l00103"></a>00103                               <span class="keyword">const</span> std::string&amp; filename,
<a name="l00104"></a>00104                               <span class="keywordtype">int</span> level) {
<a name="l00105"></a>00105             <a class="code" href="a00199.html" title="Provides file writing facilities in the AmiraMesh format for level grids.">LevelAmiraMeshWriter</a> amiramesh(grid, level);
<a name="l00106"></a>00106             amiramesh.<a class="code" href="a00060.html#1599676845f5466d508333a48c505931" title="Write AmiraMesh object to disk.">write</a>(filename);
<a name="l00107"></a>00107         }
<a name="l00108"></a>00108 
<a name="l00115"></a>00115         <span class="keyword">template</span> &lt;<span class="keyword">class</span> VectorType&gt;
<a name="l00116"></a><a class="code" href="a00199.html#ac4b505787e9f99cdb981f7e7c783de7">00116</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="a00199.html#ac4b505787e9f99cdb981f7e7c783de7" title="Writes an ISTL block vector in AmiraMesh format.">writeBlockVector</a>(<span class="keyword">const</span> <a class="code" href="a00299.html">GridType</a>&amp; grid,
<a name="l00117"></a>00117                                      <span class="keyword">const</span> VectorType&amp; f,
<a name="l00118"></a>00118                                      <span class="keyword">const</span> std::string&amp; filename,
<a name="l00119"></a>00119                                      <span class="keywordtype">int</span> level) {
<a name="l00120"></a>00120             
<a name="l00121"></a>00121             <a class="code" href="a00199.html" title="Provides file writing facilities in the AmiraMesh format for level grids.">LevelAmiraMeshWriter</a> amiramesh;
<a name="l00122"></a>00122             amiramesh.<a class="code" href="a00060.html#ba95a0cff393907e1a77337dac37ae7d" title="Add vertex data.">addVertexData</a>(f, grid.<a class="code" href="a00299.html#7e7b2beec369201ae4c2047efe6cbc76" title="return const reference to the grids level index set for level level">levelIndexSet</a>(level));
<a name="l00123"></a>00123             amiramesh.<a class="code" href="a00060.html#1599676845f5466d508333a48c505931" title="Write AmiraMesh object to disk.">write</a>(filename);
<a name="l00124"></a>00124         }
<a name="l00125"></a>00125 
<a name="l00126"></a>00126     };
<a name="l00127"></a>00127 
<a name="l00132"></a>00132     <span class="keyword">template</span>&lt;<span class="keyword">class</span> Gr<span class="keywordtype">id</span>Type&gt;
<a name="l00133"></a><a class="code" href="a00186.html">00133</a>     <span class="keyword">class </span><a class="code" href="a00186.html" title="Provides file writing facilities in the AmiraMesh format for leaf grids.">LeafAmiraMeshWriter</a> 
<a name="l00134"></a>00134         : <span class="keyword">public</span> <a class="code" href="a00060.html" title="Provides file writing facilities in the AmiraMesh format.">AmiraMeshWriter</a>&lt;GridType,typename GridType::Traits::LeafIndexSet&gt;
<a name="l00135"></a>00135     {
<a name="l00136"></a>00136 
<a name="l00137"></a>00137         <span class="keyword">enum</span> {dim = <a class="code" href="a00100.html#9cd7ecb5cc83c871fe433e8e99b8baa93d6a22a414566af9b4a356f760fce944" title="The dimension of the grid.">GridType::dimension</a>};
<a name="l00138"></a>00138 
<a name="l00139"></a>00139         <span class="keyword">typedef</span> <a class="code" href="a00060.html" title="Provides file writing facilities in the AmiraMesh format.">AmiraMeshWriter&lt;GridType,typename GridType::Traits::LeafIndexSet&gt;</a> <a class="code" href="a00060.html" title="Provides file writing facilities in the AmiraMesh format.">WriterType</a>;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141     <span class="keyword">public</span>:
<a name="l00142"></a>00142 
<a name="l00144"></a><a class="code" href="a00186.html#3862f469133b3cdd443da76c45fab432">00144</a>         <a class="code" href="a00186.html#3862f469133b3cdd443da76c45fab432" title="Default constructor.">LeafAmiraMeshWriter</a>() {}
<a name="l00145"></a>00145 
<a name="l00147"></a><a class="code" href="a00186.html#c0c0fb957d1f37416ceee3d2ca163807">00147</a>         <a class="code" href="a00186.html#3862f469133b3cdd443da76c45fab432" title="Default constructor.">LeafAmiraMeshWriter</a>(<span class="keyword">const</span> <a class="code" href="a00299.html">GridType</a>&amp; grid) {
<a name="l00148"></a>00148             this-&gt;<a class="code" href="a00060.html#98c284ad343c5e1cc8136afe6d297431" title="Add leaf grid.">addLeafGrid</a>(grid);
<a name="l00149"></a>00149         }
<a name="l00150"></a>00150 
<a name="l00156"></a><a class="code" href="a00186.html#45e948f8b95ed3f41df9495515695ec4">00156</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="a00186.html#45e948f8b95ed3f41df9495515695ec4" title="Write a grid in AmiraMesh format.">writeGrid</a>(<span class="keyword">const</span> <a class="code" href="a00299.html">GridType</a>&amp; grid, 
<a name="l00157"></a>00157                               <span class="keyword">const</span> std::string&amp; filename) {
<a name="l00158"></a>00158             <a class="code" href="a00186.html" title="Provides file writing facilities in the AmiraMesh format for leaf grids.">LeafAmiraMeshWriter</a> amiramesh(grid);
<a name="l00159"></a>00159             amiramesh.<a class="code" href="a00060.html#1599676845f5466d508333a48c505931" title="Write AmiraMesh object to disk.">write</a>(filename);
<a name="l00160"></a>00160         }
<a name="l00161"></a>00161 
<a name="l00167"></a>00167         <span class="keyword">template</span> &lt;<span class="keyword">class</span> VectorType&gt;
<a name="l00168"></a><a class="code" href="a00186.html#7ffeda35659d937fe3d8ecab91d27939">00168</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="a00186.html#7ffeda35659d937fe3d8ecab91d27939" title="Writes an ISTL block vector in AmiraMesh format.">writeBlockVector</a>(<span class="keyword">const</span> <a class="code" href="a00299.html">GridType</a>&amp; grid,
<a name="l00169"></a>00169                                      <span class="keyword">const</span> VectorType&amp; f,
<a name="l00170"></a>00170                                      <span class="keyword">const</span> std::string&amp; filename) {
<a name="l00171"></a>00171             <a class="code" href="a00186.html" title="Provides file writing facilities in the AmiraMesh format for leaf grids.">LeafAmiraMeshWriter</a> amiramesh;
<a name="l00172"></a>00172             amiramesh.<a class="code" href="a00060.html#ba95a0cff393907e1a77337dac37ae7d" title="Add vertex data.">addVertexData</a>(f, grid.<a class="code" href="a00299.html#1972d5b1e5b132b8285c2e6ae6dbd4fd" title="return const reference to the grids leaf index set">leafIndexSet</a>());
<a name="l00173"></a>00173             amiramesh.<a class="code" href="a00060.html#1599676845f5466d508333a48c505931" title="Write AmiraMesh object to disk.">write</a>(filename);
<a name="l00174"></a>00174         }
<a name="l00175"></a>00175 
<a name="l00176"></a>00176     };
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 }
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="comment">// The default implementation</span>
<a name="l00181"></a>00181 <span class="preprocessor">#include "amiramesh/amirameshwriter.cc"</span>
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 <span class="comment">// the amiramesh writer for SGrid</span>
<a name="l00184"></a>00184 <span class="comment">//#include "amiramesh/amsgridwriter.cc"</span>
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 <span class="preprocessor">#endif</span>
</pre></div></div>
</div> <!-- end doxygen -->
</div> <!-- end main -->
<div class="foot">

<p class="foot">
  Generated on 6 Nov 2008 with <a
  href="http://www.doxygen.org/">Doxygen</a> (ver 1.5.6)  
  [<a href="doxygen.log">logfile</a>].
</p>

</div>

</body>
</html>
