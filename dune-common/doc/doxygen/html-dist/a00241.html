<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN""http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>dune-common: sllist.hh Source File (dune-common )</title>
  <link rel="stylesheet" type="text/css" href="./dune-doxy.css">
  <link rel="stylesheet" type="text/css" href="./tabs.css">
</head>
<div class="main">
<div class="doxygen">
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_2ca904c6ce82cf2d3dcac8fdc6f434f6.html">common</a>
  </div>
</div>
<div class="contents">
<h1>sllist.hh</h1><a href="a00174.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// $Id: sllist.hh 5063 2008-01-24 11:18:42Z mblatt $</span>
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef DUNE__SLLIST_HH</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define DUNE__SLLIST_HH</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span>
<a name="l00005"></a>00005 <span class="preprocessor">#include&lt;memory&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include"<a class="code" href="a00161.html" title="This file implements iterator facade classes for writing stl conformant iterators...">iteratorfacades.hh</a>"</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include&lt;ostream&gt;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="keyword">namespace </span>Dune
<a name="l00011"></a>00011 {  
<a name="l00023"></a>00023   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00024"></a>00024   <span class="keyword">class </span>SLListIterator;
<a name="l00025"></a>00025   
<a name="l00026"></a>00026   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00027"></a>00027   <span class="keyword">class </span>SLListConstIterator;
<a name="l00028"></a>00028   
<a name="l00029"></a>00029   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00030"></a>00030   <span class="keyword">class </span>SLListModifyIterator;
<a name="l00031"></a>00031   
<a name="l00039"></a>00039   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A=std::allocator&lt;T&gt; &gt;
<a name="l00040"></a><a class="code" href="a00116.html">00040</a>   <span class="keyword">class </span><a class="code" href="a00116.html" title="A single linked list.">SLList</a>
<a name="l00041"></a>00041   {
<a name="l00042"></a>00042     <span class="keyword">class </span>Element;
<a name="l00043"></a>00043     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator</a>&lt;T,A&gt;;
<a name="l00044"></a>00044     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator</a>&lt;T,A&gt;;
<a name="l00045"></a>00045 
<a name="l00046"></a>00046   <span class="keyword">public</span>:
<a name="l00047"></a>00047     
<a name="l00051"></a><a class="code" href="a00191.html#gdefacd67926b31f38dcc996d275ff1e7">00051</a>     <span class="keyword">typedef</span> <span class="keyword">typename</span> A::size_type <a class="code" href="a00191.html#gdefacd67926b31f38dcc996d275ff1e7" title="The size type.">size_type</a>;
<a name="l00052"></a>00052     
<a name="l00056"></a><a class="code" href="a00191.html#g9548258d3f4de56a110c6f549780ec2a">00056</a>     <span class="keyword">typedef</span> T <a class="code" href="a00191.html#g9548258d3f4de56a110c6f549780ec2a" title="The type we store.">MemberType</a>;
<a name="l00057"></a>00057     
<a name="l00061"></a><a class="code" href="a00191.html#g532745b2d9cf125023ffed1acd31d75c">00061</a>     <span class="keyword">typedef</span> <span class="keyword">typename</span> A::template rebind&lt;Element&gt;::other <a class="code" href="a00191.html#g532745b2d9cf125023ffed1acd31d75c" title="The allocator to use.">Allocator</a>;
<a name="l00062"></a>00062 
<a name="l00066"></a><a class="code" href="a00191.html#g543a8c5a50d30cd488550f5e99161754">00066</a>     <span class="keyword">typedef</span> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator&lt;T,A&gt;</a> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">iterator</a>;
<a name="l00067"></a>00067     
<a name="l00071"></a><a class="code" href="a00191.html#ga026efcc562ed6ef620e4a96f26a393e">00071</a>     <span class="keyword">typedef</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator&lt;T,A&gt;</a> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">const_iterator</a>;
<a name="l00072"></a>00072 
<a name="l00076"></a>00076     <a class="code" href="a00191.html#gb097c05f186dacbbdd11361de5b2500f" title="Constructor.">SLList</a>();
<a name="l00077"></a>00077     
<a name="l00081"></a>00081     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> A1&gt;
<a name="l00082"></a>00082     <a class="code" href="a00191.html#gb097c05f186dacbbdd11361de5b2500f" title="Constructor.">SLList</a>(<span class="keyword">const</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T1,A1&gt;</a>&amp; other);
<a name="l00083"></a>00083 
<a name="l00087"></a>00087     <a class="code" href="a00191.html#gb097c05f186dacbbdd11361de5b2500f" title="Constructor.">SLList</a>(<span class="keyword">const</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;</a>&amp; other);
<a name="l00088"></a>00088 
<a name="l00094"></a>00094     <a class="code" href="a00191.html#gfa3231a07e56ae81cc6334e19d603a23" title="Destructor.">~SLList</a>();
<a name="l00095"></a>00095     
<a name="l00100"></a><a class="code" href="a00191.html#gac398614c243228cc0f7678b6c70007b">00100</a>     <span class="keyword">typedef</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator&lt;T,A&gt;</a> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">ModifyIterator</a>;
<a name="l00101"></a>00101     
<a name="l00105"></a>00105     <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;</a>&amp; <a class="code" href="a00191.html#g9f0eb5f84602ae9120178e2e9659bc41" title="Assignment operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;</a>&amp; other);
<a name="l00106"></a>00106     
<a name="l00107"></a>00107     
<a name="l00112"></a>00112     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00191.html#g0a71f761f2ee2a6d5c72c5b8b6b60f0e" title="Add a new entry to the end of the list.">push_back</a>(<span class="keyword">const</span> <a class="code" href="a00191.html#g9548258d3f4de56a110c6f549780ec2a" title="The type we store.">MemberType</a>&amp; item);
<a name="l00113"></a>00113 
<a name="l00118"></a>00118     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00191.html#g07373aa465c1db378233026b89420275" title="Add a new entry to the beginning of the list.">push_front</a>(<span class="keyword">const</span> <a class="code" href="a00191.html#g9548258d3f4de56a110c6f549780ec2a" title="The type we store.">MemberType</a>&amp; item);
<a name="l00119"></a>00119     
<a name="l00123"></a>00123     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00191.html#gc40778d9f4576908734ed49890c26a93" title="Remove the first item in the list.">pop_front</a>();
<a name="l00124"></a>00124      
<a name="l00126"></a>00126     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00191.html#g91a8c67d17ae6595ee2f5eca3a2df144" title="Remove all elements from the list.">clear</a>();
<a name="l00127"></a>00127 
<a name="l00135"></a>00135     <span class="keyword">inline</span> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">iterator</a> <a class="code" href="a00191.html#gff151c44f4a1e43ab0b2f0cf55bab6f8" title="Get an iterator pointing to the first element in the list.">begin</a>();
<a name="l00136"></a>00136     
<a name="l00144"></a>00144     <span class="keyword">inline</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">const_iterator</a> <a class="code" href="a00191.html#gff151c44f4a1e43ab0b2f0cf55bab6f8" title="Get an iterator pointing to the first element in the list.">begin</a>() <span class="keyword">const</span>;
<a name="l00145"></a>00145 
<a name="l00153"></a>00153     <span class="keyword">inline</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">ModifyIterator</a> <a class="code" href="a00191.html#g9f0cfc5d3be7b2719e938face53b832f" title="Get an iterator capable of deleting and inserting elements.">beginModify</a>();
<a name="l00154"></a>00154     
<a name="l00162"></a>00162     <span class="keyword">inline</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">ModifyIterator</a> <a class="code" href="a00191.html#g1859abb70b39f6cd675d5d1f6c23a5e0" title="Get an iterator capable of deleting and inserting elements.">endModify</a>();
<a name="l00163"></a>00163 
<a name="l00170"></a>00170     <span class="keyword">inline</span> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">iterator</a> <a class="code" href="a00191.html#g8eee1922ee4cf09e85c03af4ceef39ed" title="Get an iterator pointing to the end of the list.">end</a>();
<a name="l00171"></a>00171 
<a name="l00178"></a>00178     <span class="keyword">inline</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">const_iterator</a> <a class="code" href="a00191.html#g8eee1922ee4cf09e85c03af4ceef39ed" title="Get an iterator pointing to the end of the list.">end</a>() <span class="keyword">const</span>;
<a name="l00179"></a>00179 
<a name="l00185"></a>00185     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00191.html#gc74361d124cf27c5e7384a66b9bcda02" title="Check whether the list is empty.">empty</a>() <span class="keyword">const</span>;
<a name="l00186"></a>00186 
<a name="l00191"></a>00191     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="a00191.html#g7793abbcf5b154130d6d824c93be9c5d" title="Get the number of elements the list contains.">size</a>() <span class="keyword">const</span>;
<a name="l00192"></a>00192     
<a name="l00193"></a>00193   <span class="keyword">private</span>:
<a name="l00195"></a>00195     <span class="keyword">struct </span>Element
<a name="l00196"></a>00196     {
<a name="l00200"></a>00200       Element* next_;
<a name="l00204"></a><a class="code" href="a00191.html#g2ab7716a755ae785552cd61f167dad34">00204</a>       <a class="code" href="a00191.html#g9548258d3f4de56a110c6f549780ec2a" title="The type we store.">MemberType</a> item_;
<a name="l00205"></a>00205 
<a name="l00206"></a>00206       Element(<span class="keyword">const</span> <a class="code" href="a00191.html#g9548258d3f4de56a110c6f549780ec2a" title="The type we store.">MemberType</a>&amp; item);
<a name="l00207"></a>00207       
<a name="l00208"></a>00208       Element();
<a name="l00209"></a>00209       
<a name="l00210"></a>00210     };
<a name="l00211"></a>00211 
<a name="l00216"></a>00216     <span class="keywordtype">void</span> deleteNext(Element* current);
<a name="l00217"></a>00217     
<a name="l00222"></a>00222     <span class="keywordtype">void</span> copyElements(<span class="keyword">const</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;</a>&amp; other);
<a name="l00223"></a>00223     
<a name="l00231"></a>00231     <span class="keyword">template</span>&lt;<span class="keywordtype">bool</span> watchForTail&gt;
<a name="l00232"></a>00232     <span class="keywordtype">void</span> deleteNext(Element* current);
<a name="l00238"></a>00238     <span class="keywordtype">void</span> insertAfter(Element* current, <span class="keyword">const</span> T&amp; item);
<a name="l00239"></a>00239 
<a name="l00241"></a>00241     Element beforeHead_;
<a name="l00242"></a>00242     
<a name="l00248"></a>00248     Element* tail_;
<a name="l00249"></a>00249     
<a name="l00251"></a>00251     <a class="code" href="a00191.html#g532745b2d9cf125023ffed1acd31d75c" title="The allocator to use.">Allocator</a> allocator_;
<a name="l00252"></a>00252     
<a name="l00254"></a>00254     <span class="keywordtype">int</span> size_;
<a name="l00255"></a>00255   };
<a name="l00256"></a>00256 
<a name="l00260"></a>00260   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00261"></a><a class="code" href="a00118.html">00261</a>   <span class="keyword">class </span><a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator</a> : <span class="keyword">public</span> Dune::<a class="code" href="a00061.html" title="Base class for stl conformant forward iterators.">ForwardIteratorFacade</a>&lt;SLListIterator&lt;T,A&gt;, T, T&amp;, std::size_t&gt;
<a name="l00262"></a>00262   {
<a name="l00263"></a>00263     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator</a>&lt;T,A&gt;;
<a name="l00264"></a>00264     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator</a>&lt;T,A&gt;;
<a name="l00265"></a>00265     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00116.html" title="A single linked list.">SLList</a>&lt;T,A&gt;;
<a name="l00266"></a>00266     
<a name="l00267"></a>00267   <span class="keyword">public</span>:
<a name="l00268"></a>00268     <span class="keyword">inline</span> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator</a>(<span class="keyword">typename</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::Element</a>* item,
<a name="l00269"></a>00269                           <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;</a>* sllist)
<a name="l00270"></a>00270       : current_(item), list_(sllist)
<a name="l00271"></a>00271     {}
<a name="l00272"></a>00272 
<a name="l00273"></a>00273     <span class="keyword">inline</span> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator</a>()
<a name="l00274"></a>00274       : current_(0), list_(0)
<a name="l00275"></a>00275     {}
<a name="l00276"></a>00276 
<a name="l00277"></a>00277     <span class="keyword">inline</span> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator</a>(<span class="keyword">const</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator&lt;T,A&gt;</a>&amp; other)
<a name="l00278"></a>00278       : current_(other.<a class="code" href="a00191.html#g9624477bc40b22fe4f38dac0c077146a" title="Iterator positioned at the current position.">iterator_</a>.current_), list_(other.<a class="code" href="a00191.html#g9624477bc40b22fe4f38dac0c077146a" title="Iterator positioned at the current position.">iterator_</a>.list_)
<a name="l00279"></a>00279     {}
<a name="l00280"></a>00280 
<a name="l00285"></a><a class="code" href="a00191.html#gc2d3d84935e5b39ca1bd6d6c8391f0f6">00285</a>     <span class="keyword">inline</span> T&amp; <a class="code" href="a00191.html#gc2d3d84935e5b39ca1bd6d6c8391f0f6" title="Dereferencing function for the iterator facade.">dereference</a>()<span class="keyword"> const</span>
<a name="l00286"></a>00286 <span class="keyword">    </span>{
<a name="l00287"></a>00287       <span class="keywordflow">return</span> current_-&gt;item_;
<a name="l00288"></a>00288     }
<a name="l00289"></a>00289       
<a name="l00295"></a><a class="code" href="a00191.html#gf63a1bd5ca049d868a51d8b1980626ed">00295</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00191.html#gf63a1bd5ca049d868a51d8b1980626ed" title="Equality test for the iterator facade.">equals</a>(<span class="keyword">const</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator&lt;T,A&gt;</a>&amp; other)<span class="keyword"> const</span>
<a name="l00296"></a>00296 <span class="keyword">    </span>{
<a name="l00297"></a>00297       <span class="keywordflow">return</span> current_==other.<a class="code" href="a00191.html#g66a2479548821eb89087f8a17c955d42" title="The current element.">current_</a>;
<a name="l00298"></a>00298     }
<a name="l00299"></a>00299     
<a name="l00305"></a><a class="code" href="a00191.html#g505c5ed0d921eb390a6878002db2d86a">00305</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00191.html#gf63a1bd5ca049d868a51d8b1980626ed" title="Equality test for the iterator facade.">equals</a>(<span class="keyword">const</span> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator&lt;T,A&gt;</a>&amp; other)<span class="keyword"> const</span>
<a name="l00306"></a>00306 <span class="keyword">    </span>{
<a name="l00307"></a>00307       <span class="keywordflow">return</span> current_==other.<a class="code" href="a00191.html#g5e3d330d5cb46d10ec4966f017c3d402" title="The current element.">current_</a>;
<a name="l00308"></a>00308     }
<a name="l00309"></a>00309       
<a name="l00315"></a><a class="code" href="a00191.html#g9644fc7ba7f428fffe069a2b64bb063d">00315</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00191.html#gf63a1bd5ca049d868a51d8b1980626ed" title="Equality test for the iterator facade.">equals</a>(<span class="keyword">const</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator&lt;T,A&gt;</a>&amp; other)<span class="keyword"> const</span>
<a name="l00316"></a>00316 <span class="keyword">    </span>{
<a name="l00317"></a>00317       <span class="keywordflow">return</span> current_==other.<a class="code" href="a00191.html#g9624477bc40b22fe4f38dac0c077146a" title="Iterator positioned at the current position.">iterator_</a>.current_;
<a name="l00318"></a>00318     }
<a name="l00319"></a>00319       
<a name="l00323"></a><a class="code" href="a00191.html#gc484c101bf8dac91cf42c87ab4095c1b">00323</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00191.html#gc484c101bf8dac91cf42c87ab4095c1b" title="Increment function for the iterator facade.">increment</a>()
<a name="l00324"></a>00324     {
<a name="l00325"></a>00325       current_ = current_-&gt;next_;
<a name="l00326"></a>00326     }
<a name="l00327"></a>00327 
<a name="l00333"></a><a class="code" href="a00191.html#g95dbf81fd02659c2c72c2f3e08c14148">00333</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00191.html#g95dbf81fd02659c2c72c2f3e08c14148" title="Insert an element in the underlying list after the current position.">insertAfter</a>(<span class="keyword">const</span> T&amp; v)<span class="keyword">const</span>
<a name="l00334"></a>00334 <span class="keyword">    </span>{      
<a name="l00335"></a>00335       assert(list_ );
<a name="l00336"></a>00336       list_-&gt;insertAfter(current_, v);
<a name="l00337"></a>00337     }
<a name="l00338"></a>00338 
<a name="l00344"></a><a class="code" href="a00191.html#g3bcdf1643346941a6ee1da08ad58906b">00344</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00191.html#g3bcdf1643346941a6ee1da08ad58906b" title="Delete the entry after the current position.">deleteNext</a>()<span class="keyword"> const</span>
<a name="l00345"></a>00345 <span class="keyword">    </span>{
<a name="l00346"></a>00346       assert(list_);
<a name="l00347"></a>00347       list_-&gt;deleteNext(current_);
<a name="l00348"></a>00348     }
<a name="l00349"></a>00349     
<a name="l00350"></a>00350   <span class="keyword">private</span>:
<a name="l00352"></a>00352     <span class="keyword">typename</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::Element</a>* current_;
<a name="l00354"></a>00354     <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;</a>* list_;
<a name="l00355"></a>00355   };
<a name="l00356"></a>00356   
<a name="l00360"></a>00360   <span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keyword">class</span> A&gt;
<a name="l00361"></a><a class="code" href="a00117.html">00361</a>   <span class="keyword">class </span><a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator</a> : <span class="keyword">public</span> Dune::<a class="code" href="a00061.html" title="Base class for stl conformant forward iterators.">ForwardIteratorFacade</a>&lt;SLListConstIterator&lt;T,A&gt;, const T, const T&amp;, std::size_t&gt;
<a name="l00362"></a>00362   {
<a name="l00363"></a>00363     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator</a>&lt;T,A&gt;;
<a name="l00364"></a>00364     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00116.html" title="A single linked list.">SLList</a>&lt;T,A&gt;;
<a name="l00365"></a>00365 
<a name="l00366"></a>00366   <span class="keyword">public</span>:
<a name="l00367"></a>00367     <span class="keyword">inline</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator</a>()
<a name="l00368"></a>00368       : current_(0)
<a name="l00369"></a>00369     {}
<a name="l00370"></a>00370 
<a name="l00371"></a>00371     <span class="keyword">inline</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator</a>(<span class="keyword">typename</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::Element</a>* item)
<a name="l00372"></a>00372       : current_(item)
<a name="l00373"></a>00373     {}
<a name="l00374"></a>00374 
<a name="l00375"></a>00375     <span class="keyword">inline</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator</a>(<span class="keyword">const</span> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator&lt;T,A&gt;</a>&amp; other)
<a name="l00376"></a>00376       : current_(other.<a class="code" href="a00191.html#g5e3d330d5cb46d10ec4966f017c3d402" title="The current element.">current_</a>)
<a name="l00377"></a>00377     {}
<a name="l00378"></a>00378     
<a name="l00379"></a>00379     <span class="keyword">inline</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator</a>(<span class="keyword">const</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator&lt;T,A&gt;</a>&amp; other)
<a name="l00380"></a>00380       : current_(other.<a class="code" href="a00191.html#g66a2479548821eb89087f8a17c955d42" title="The current element.">current_</a>)
<a name="l00381"></a>00381     {}
<a name="l00382"></a>00382 
<a name="l00383"></a>00383     <span class="keyword">inline</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator</a>(<span class="keyword">const</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator&lt;T,A&gt;</a>&amp; other)
<a name="l00384"></a>00384       : current_(other.<a class="code" href="a00191.html#g9624477bc40b22fe4f38dac0c077146a" title="Iterator positioned at the current position.">iterator_</a>.current_)
<a name="l00385"></a>00385     {}
<a name="l00386"></a>00386       
<a name="l00391"></a><a class="code" href="a00191.html#g783fbeb76a0111524727d09e15a40a48">00391</a>     <span class="keyword">inline</span> <span class="keyword">const</span> T&amp; <a class="code" href="a00191.html#g783fbeb76a0111524727d09e15a40a48" title="Dereferencing function for the facade.">dereference</a>()<span class="keyword"> const</span>
<a name="l00392"></a>00392 <span class="keyword">    </span>{
<a name="l00393"></a>00393       <span class="keywordflow">return</span> current_-&gt;item_;
<a name="l00394"></a>00394     }
<a name="l00395"></a>00395     
<a name="l00401"></a><a class="code" href="a00191.html#g90d32112d46785cf69962f5913eed2d4">00401</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00191.html#g90d32112d46785cf69962f5913eed2d4" title="Equality test for the iterator facade.">equals</a>(<span class="keyword">const</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator&lt;T,A&gt;</a>&amp; other)<span class="keyword"> const</span>
<a name="l00402"></a>00402 <span class="keyword">    </span>{
<a name="l00403"></a>00403       <span class="keywordflow">return</span> current_==other.<a class="code" href="a00191.html#g66a2479548821eb89087f8a17c955d42" title="The current element.">current_</a>;
<a name="l00404"></a>00404     }
<a name="l00405"></a>00405     
<a name="l00409"></a><a class="code" href="a00191.html#gf7b6b1990f6bf2abeadd60f3ae813bd8">00409</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00191.html#gf7b6b1990f6bf2abeadd60f3ae813bd8" title="Increment function for the iterator facade.">increment</a>()
<a name="l00410"></a>00410     {
<a name="l00411"></a>00411       current_ = current_-&gt;next_;
<a name="l00412"></a>00412     }
<a name="l00413"></a>00413       
<a name="l00414"></a>00414   <span class="keyword">private</span>:
<a name="l00416"></a>00416     <span class="keyword">typename</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::Element</a>* current_;
<a name="l00417"></a>00417   };
<a name="l00418"></a>00418   
<a name="l00422"></a>00422   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00423"></a><a class="code" href="a00119.html">00423</a>   <span class="keyword">class </span><a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator</a> : <span class="keyword">public</span> Dune::<a class="code" href="a00061.html" title="Base class for stl conformant forward iterators.">ForwardIteratorFacade</a>&lt;SLListModifyIterator&lt;T,A&gt;, T, T&amp;, std::size_t&gt;
<a name="l00424"></a>00424   {
<a name="l00425"></a>00425     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator</a>&lt;T,A&gt;;
<a name="l00426"></a>00426     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator</a>&lt;T,A&gt;;
<a name="l00427"></a>00427   <span class="keyword">public</span>:
<a name="l00428"></a>00428     <span class="keyword">inline</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator</a>(<a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator&lt;T,A&gt;</a> beforeIterator,
<a name="l00429"></a>00429                           <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator&lt;T,A&gt;</a> _iterator)
<a name="l00430"></a>00430       : beforeIterator_(beforeIterator), iterator_(_iterator)
<a name="l00431"></a>00431     {}
<a name="l00432"></a>00432 
<a name="l00433"></a>00433     <span class="keyword">inline</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator</a>(<span class="keyword">const</span>  <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator&lt;T,A&gt;</a>&amp; other)
<a name="l00434"></a>00434       : beforeIterator_(other.<a class="code" href="a00191.html#g53b2f0e981f1712f8a14b4e9bde603bc" title="Iterator positioned at the position before the current.">beforeIterator_</a>), iterator_(other.<a class="code" href="a00191.html#g9624477bc40b22fe4f38dac0c077146a" title="Iterator positioned at the current position.">iterator_</a>)
<a name="l00435"></a>00435     {}
<a name="l00436"></a>00436     
<a name="l00437"></a>00437     <span class="keyword">inline</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator</a>()
<a name="l00438"></a>00438       : beforeIterator_(), iterator_()
<a name="l00439"></a>00439     {}
<a name="l00440"></a>00440       
<a name="l00445"></a><a class="code" href="a00191.html#ga8802093ad519c06d8341fa704cdb1cb">00445</a>     <span class="keyword">inline</span> T&amp; <a class="code" href="a00191.html#ga8802093ad519c06d8341fa704cdb1cb" title="Dereferencing function for the iterator facade.">dereference</a>()<span class="keyword"> const</span>
<a name="l00446"></a>00446 <span class="keyword">    </span>{
<a name="l00447"></a>00447       <span class="keywordflow">return</span> *iterator_;
<a name="l00448"></a>00448     }
<a name="l00449"></a>00449     
<a name="l00455"></a><a class="code" href="a00191.html#g9805d4f139dbfc5012ed7cc2529e4d04">00455</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00191.html#g9805d4f139dbfc5012ed7cc2529e4d04" title="Test whether another iterator is equal.">equals</a>(<span class="keyword">const</span>  <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator&lt;T,A&gt;</a>&amp; other)<span class="keyword"> const</span>
<a name="l00456"></a>00456 <span class="keyword">    </span>{
<a name="l00457"></a>00457       <span class="keywordflow">return</span> iterator_== other;
<a name="l00458"></a>00458     }
<a name="l00459"></a>00459 
<a name="l00460"></a>00460     
<a name="l00466"></a><a class="code" href="a00191.html#ga10e4670355e1294786f738733e944cc">00466</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00191.html#g9805d4f139dbfc5012ed7cc2529e4d04" title="Test whether another iterator is equal.">equals</a>(<span class="keyword">const</span>  <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator&lt;T,A&gt;</a>&amp; other)<span class="keyword"> const</span>
<a name="l00467"></a>00467 <span class="keyword">    </span>{
<a name="l00468"></a>00468       <span class="keywordflow">return</span> iterator_== other;
<a name="l00469"></a>00469     }
<a name="l00470"></a>00470 
<a name="l00471"></a>00471     
<a name="l00477"></a><a class="code" href="a00191.html#g8ac0a9ab1ee0a848b0b22c43b1bd36a5">00477</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00191.html#g9805d4f139dbfc5012ed7cc2529e4d04" title="Test whether another iterator is equal.">equals</a>(<span class="keyword">const</span>  <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator&lt;T,A&gt;</a>&amp; other)<span class="keyword"> const</span>
<a name="l00478"></a>00478 <span class="keyword">    </span>{
<a name="l00479"></a>00479       <span class="keywordflow">return</span> iterator_== other.<a class="code" href="a00191.html#g9624477bc40b22fe4f38dac0c077146a" title="Iterator positioned at the current position.">iterator_</a>;
<a name="l00480"></a>00480     }
<a name="l00481"></a>00481     
<a name="l00485"></a><a class="code" href="a00191.html#gf185b8fbd19f5e6aa881f94781f97ea0">00485</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00191.html#gf185b8fbd19f5e6aa881f94781f97ea0" title="Increment function for the iterator facade.">increment</a>()
<a name="l00486"></a>00486     {
<a name="l00487"></a>00487       ++iterator_;
<a name="l00488"></a>00488       ++beforeIterator_;
<a name="l00489"></a>00489     }
<a name="l00490"></a>00490 
<a name="l00504"></a><a class="code" href="a00191.html#gb584227c678fe14379ab64bf38e90fc3">00504</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00191.html#gb584227c678fe14379ab64bf38e90fc3" title="Insert an element at the current position.">insert</a>(<span class="keyword">const</span> T&amp; v)
<a name="l00505"></a>00505     {
<a name="l00506"></a>00506       beforeIterator_.insertAfter(v);
<a name="l00507"></a>00507       ++beforeIterator_;
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509 
<a name="l00517"></a><a class="code" href="a00191.html#ge1aa043816f91daf4d1cc0d680b6cec0">00517</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">remove</span>()
<a name="l00518"></a>00518     {
<a name="l00519"></a>00519       ++iterator_;
<a name="l00520"></a>00520       beforeIterator_.deleteNext();
<a name="l00521"></a>00521     }
<a name="l00522"></a>00522     
<a name="l00523"></a>00523   <span class="keyword">private</span>:
<a name="l00525"></a>00525     <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator&lt;T,A&gt;</a> beforeIterator_;
<a name="l00527"></a>00527     <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator&lt;T,A&gt;</a> iterator_;
<a name="l00528"></a>00528   };
<a name="l00529"></a>00529 }<span class="comment">// namespace Dune</span>
<a name="l00530"></a>00530 
<a name="l00531"></a>00531 <span class="keyword">namespace </span>std
<a name="l00532"></a>00532 {
<a name="l00533"></a>00533   
<a name="l00534"></a>00534   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> A&gt;
<a name="l00535"></a>00535   ostream&amp; operator&lt;&lt;(ostream&amp; os, const Dune::SLList&lt;T,A&gt; sllist)
<a name="l00536"></a>00536   {
<a name="l00537"></a>00537     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="a00116.html" title="A single linked list.">Dune::SLList&lt;T,A&gt;::const_iterator</a> Iterator;
<a name="l00538"></a>00538     Iterator end = sllist.end();
<a name="l00539"></a>00539     Iterator current= sllist.begin();
<a name="l00540"></a>00540 
<a name="l00541"></a>00541     os &lt;&lt; <span class="stringliteral">"{ "</span>;
<a name="l00542"></a>00542     
<a name="l00543"></a>00543     <span class="keywordflow">if</span>(current!=end){
<a name="l00544"></a>00544       os&lt;&lt;*current&lt;&lt;<span class="stringliteral">" ("</span>&lt;&lt;<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;(*current))&lt;&lt;<span class="stringliteral">")"</span>;
<a name="l00545"></a>00545       ++current;
<a name="l00546"></a>00546       
<a name="l00547"></a>00547       <span class="keywordflow">for</span>(; current != end; ++current)
<a name="l00548"></a>00548         os&lt;&lt;<span class="stringliteral">", "</span>&lt;&lt;*current&lt;&lt;<span class="stringliteral">" ("</span>&lt;&lt;static_cast&lt;const void*&gt;(&amp;(*current))&lt;&lt;<span class="stringliteral">")"</span>;
<a name="l00549"></a>00549     }
<a name="l00550"></a>00550     os&lt;&lt;<span class="stringliteral">"} "</span>;
<a name="l00551"></a>00551     <span class="keywordflow">return</span> os;
<a name="l00552"></a>00552   }
<a name="l00553"></a>00553 }<span class="comment">//namespace std</span>
<a name="l00554"></a>00554 
<a name="l00555"></a>00555 <span class="keyword">namespace </span>Dune
<a name="l00556"></a>00556 {
<a name="l00557"></a>00557   
<a name="l00558"></a>00558   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00559"></a>00559   SLList&lt;T,A&gt;::Element::Element(<span class="keyword">const</span> T&amp; item)
<a name="l00560"></a>00560     : next_(0), item_(item)
<a name="l00561"></a>00561   {}
<a name="l00562"></a>00562 
<a name="l00563"></a>00563   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00564"></a>00564   SLList&lt;T,A&gt;::Element::Element()
<a name="l00565"></a>00565     : next_(0), item_()
<a name="l00566"></a>00566   {}
<a name="l00567"></a>00567   
<a name="l00568"></a>00568   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00569"></a><a class="code" href="a00191.html#gb097c05f186dacbbdd11361de5b2500f">00569</a>   <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::SLList</a>()
<a name="l00570"></a>00570     : beforeHead_(), tail_(&amp;beforeHead_), allocator_(), size_(0)
<a name="l00571"></a>00571   {
<a name="l00572"></a>00572     beforeHead_.next_=0;
<a name="l00573"></a>00573     assert(&amp;beforeHead_==tail_);
<a name="l00574"></a>00574     assert(tail_-&gt;next_==0);
<a name="l00575"></a>00575   }
<a name="l00576"></a>00576 
<a name="l00577"></a>00577   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00578"></a><a class="code" href="a00191.html#g72a901265ef5d3658dceb0f7bd6a0782">00578</a>   <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::SLList</a>(<span class="keyword">const</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;</a>&amp; other)
<a name="l00579"></a>00579     : beforeHead_(), tail_(&amp;beforeHead_), allocator_(), size_(0)
<a name="l00580"></a>00580   {
<a name="l00581"></a>00581     copyElements(other);
<a name="l00582"></a>00582   }
<a name="l00583"></a>00583   
<a name="l00584"></a>00584   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00585"></a>00585   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">class</span> A1&gt;
<a name="l00586"></a><a class="code" href="a00191.html#gc2a83336a9806fc2689189580d64f328">00586</a>   <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::SLList</a>(<span class="keyword">const</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T1,A1&gt;</a>&amp; other)
<a name="l00587"></a>00587     : beforeHead_(), tail_(&amp;beforeHead_), allocator_(), size_(0)
<a name="l00588"></a>00588   {
<a name="l00589"></a>00589     copyElements(other);
<a name="l00590"></a>00590   }
<a name="l00591"></a>00591 
<a name="l00592"></a>00592   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> A&gt;
<a name="l00593"></a>00593   <span class="keywordtype">void</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::copyElements</a>(<span class="keyword">const</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;</a>&amp; other)
<a name="l00594"></a>00594   {
<a name="l00595"></a>00595     assert(tail_==&amp;beforeHead_);
<a name="l00596"></a>00596     assert(size_==0);
<a name="l00597"></a>00597     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::const_iterator</a> Iterator;
<a name="l00598"></a>00598     Iterator iend = other.<a class="code" href="a00191.html#g8eee1922ee4cf09e85c03af4ceef39ed" title="Get an iterator pointing to the end of the list.">end</a>();
<a name="l00599"></a>00599     <span class="keywordflow">for</span>(Iterator element=other.<a class="code" href="a00191.html#gff151c44f4a1e43ab0b2f0cf55bab6f8" title="Get an iterator pointing to the first element in the list.">begin</a>(); element != iend; ++element)
<a name="l00600"></a>00600       <a class="code" href="a00191.html#g0a71f761f2ee2a6d5c72c5b8b6b60f0e" title="Add a new entry to the end of the list.">push_back</a>(*element);
<a name="l00601"></a>00601       
<a name="l00602"></a>00602     assert(other.<a class="code" href="a00191.html#g7793abbcf5b154130d6d824c93be9c5d" title="Get the number of elements the list contains.">size</a>()==<a class="code" href="a00191.html#g7793abbcf5b154130d6d824c93be9c5d" title="Get the number of elements the list contains.">size</a>());
<a name="l00603"></a>00603   }
<a name="l00604"></a>00604   
<a name="l00605"></a>00605   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00606"></a><a class="code" href="a00191.html#gfa3231a07e56ae81cc6334e19d603a23">00606</a>   <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::~SLList</a>()
<a name="l00607"></a>00607   {
<a name="l00608"></a>00608     <a class="code" href="a00191.html#g91a8c67d17ae6595ee2f5eca3a2df144" title="Remove all elements from the list.">clear</a>();
<a name="l00609"></a>00609   }
<a name="l00610"></a>00610 
<a name="l00611"></a>00611   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00612"></a><a class="code" href="a00191.html#g9f0eb5f84602ae9120178e2e9659bc41">00612</a>   <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;</a>&amp; <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::operator=</a>(<span class="keyword">const</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;</a>&amp; other)
<a name="l00613"></a>00613   {
<a name="l00614"></a>00614     <a class="code" href="a00191.html#g91a8c67d17ae6595ee2f5eca3a2df144" title="Remove all elements from the list.">clear</a>();
<a name="l00615"></a>00615     copyElements(other);
<a name="l00616"></a>00616     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00617"></a>00617   }
<a name="l00618"></a>00618   
<a name="l00619"></a>00619   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00620"></a><a class="code" href="a00191.html#g0a71f761f2ee2a6d5c72c5b8b6b60f0e">00620</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::push_back</a>(<span class="keyword">const</span> T&amp; item)
<a name="l00621"></a>00621   {
<a name="l00622"></a>00622     assert(size_&gt;0 || tail_==&amp;beforeHead_);
<a name="l00623"></a>00623       tail_-&gt;next_ = allocator_.allocate(1, 0);
<a name="l00624"></a>00624     assert(size_&gt;0 || tail_==&amp;beforeHead_);
<a name="l00625"></a>00625       tail_ = tail_-&gt;next_;
<a name="l00626"></a>00626       ::new (<span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;(tail_-&gt;item_))) T(item);
<a name="l00627"></a>00627       tail_-&gt;next_=0;
<a name="l00628"></a>00628     assert(tail_-&gt;next_==0);
<a name="l00629"></a>00629     ++size_;
<a name="l00630"></a>00630   }
<a name="l00631"></a>00631 
<a name="l00632"></a>00632   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00633"></a>00633   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::insertAfter</a>(<a class="code" href="a00036.html" title="Get the N-th element of a tuple.">Element</a>* current, <span class="keyword">const</span> T&amp; item)
<a name="l00634"></a>00634   {
<a name="l00635"></a>00635     assert(current);
<a name="l00636"></a>00636 
<a name="l00637"></a>00637 <span class="preprocessor">#ifndef NDEBUG</span>
<a name="l00638"></a>00638 <span class="preprocessor"></span>    <span class="keywordtype">bool</span> changeTail = (current == tail_);
<a name="l00639"></a>00639 <span class="preprocessor">#endif</span>
<a name="l00640"></a>00640 <span class="preprocessor"></span>
<a name="l00641"></a>00641     <span class="comment">// Save old next element</span>
<a name="l00642"></a>00642     <a class="code" href="a00036.html" title="Get the N-th element of a tuple.">Element</a>* tmp = current-&gt;next_;
<a name="l00643"></a>00643 
<a name="l00644"></a>00644     assert(!changeTail || !tmp);
<a name="l00645"></a>00645 
<a name="l00646"></a>00646     <span class="comment">// Allocate space</span>
<a name="l00647"></a>00647     current-&gt;next_ = allocator_.allocate(1, 0);
<a name="l00648"></a>00648 
<a name="l00649"></a>00649     <span class="comment">// Use copy constructor to initialize memory</span>
<a name="l00650"></a>00650     ::new(<span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;(current-&gt;next_-&gt;item_))) T(item);
<a name="l00651"></a>00651 
<a name="l00652"></a>00652     <span class="comment">// Set next element</span>
<a name="l00653"></a>00653     current-&gt;next_-&gt;next_=tmp;
<a name="l00654"></a>00654     
<a name="l00655"></a>00655     <span class="keywordflow">if</span>(!current-&gt;next_-&gt;next_){
<a name="l00656"></a>00656       <span class="comment">// Update tail</span>
<a name="l00657"></a>00657       assert(changeTail);
<a name="l00658"></a>00658       tail_ = current-&gt;next_;
<a name="l00659"></a>00659     }
<a name="l00660"></a>00660     ++size_;
<a name="l00661"></a>00661     assert(!tail_-&gt;next_);
<a name="l00662"></a>00662   }
<a name="l00663"></a>00663   
<a name="l00664"></a>00664   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00665"></a><a class="code" href="a00191.html#g07373aa465c1db378233026b89420275">00665</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::push_front</a>(<span class="keyword">const</span> T&amp; item)
<a name="l00666"></a>00666   {
<a name="l00667"></a>00667     <span class="keywordflow">if</span>(tail_ == &amp;beforeHead_){
<a name="l00668"></a>00668       <span class="comment">// list was empty</span>
<a name="l00669"></a>00669       beforeHead_.next_ = tail_ = allocator_.allocate(1, 0);
<a name="l00670"></a>00670       ::new(<span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;beforeHead_.next_-&gt;item_)) T(item);
<a name="l00671"></a>00671       beforeHead_.next_-&gt;next_=0;
<a name="l00672"></a>00672     }<span class="keywordflow">else</span>{
<a name="l00673"></a>00673       Element* added = allocator_.allocate(1, 0);
<a name="l00674"></a>00674       ::new(<span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;added-&gt;item_)) T(item);
<a name="l00675"></a>00675       added-&gt;next_=beforeHead_.next_;
<a name="l00676"></a>00676       beforeHead_.next_=added;
<a name="l00677"></a>00677     }
<a name="l00678"></a>00678     assert(tail_-&gt;next_==0);
<a name="l00679"></a>00679     ++size_;
<a name="l00680"></a>00680   }
<a name="l00681"></a>00681 
<a name="l00682"></a>00682   
<a name="l00683"></a>00683   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00684"></a>00684   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::deleteNext</a>(<a class="code" href="a00036.html" title="Get the N-th element of a tuple.">Element</a>* current)
<a name="l00685"></a>00685   {
<a name="l00686"></a>00686     this-&gt;<span class="keyword">template</span> deleteNext&lt;true&gt;(current);
<a name="l00687"></a>00687   }
<a name="l00688"></a>00688   
<a name="l00689"></a>00689   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00690"></a>00690   <span class="keyword">template</span>&lt;<span class="keywordtype">bool</span> watchForTail&gt;
<a name="l00691"></a>00691   <span class="keyword">inline</span> <span class="keywordtype">void</span> SLList&lt;T,A&gt;::deleteNext(Element* current)
<a name="l00692"></a>00692   {
<a name="l00693"></a>00693     assert(current-&gt;next_);
<a name="l00694"></a>00694     Element* next = current-&gt;next_;
<a name="l00695"></a>00695     
<a name="l00696"></a>00696     <span class="keywordflow">if</span>(watchForTail)
<a name="l00697"></a>00697       <span class="keywordflow">if</span>(next == tail_){ 
<a name="l00698"></a>00698       <span class="comment">// deleting last element changes tail!</span>
<a name="l00699"></a>00699       tail_ = current;
<a name="l00700"></a>00700     }
<a name="l00701"></a>00701     
<a name="l00702"></a>00702     current-&gt;next_ = next-&gt;next_;
<a name="l00703"></a>00703     next-&gt;item_.~T();
<a name="l00704"></a>00704     next-&gt;next_ = 0;
<a name="l00705"></a>00705     allocator_.deallocate(next, 1);
<a name="l00706"></a>00706     --size_;
<a name="l00707"></a>00707     assert(!watchForTail || &amp;beforeHead_ != tail_ || size_==0);
<a name="l00708"></a>00708   }
<a name="l00709"></a>00709   
<a name="l00710"></a>00710   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00711"></a><a class="code" href="a00191.html#gc40778d9f4576908734ed49890c26a93">00711</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::pop_front</a>()
<a name="l00712"></a>00712   {
<a name="l00713"></a>00713     deleteNext(&amp;beforeHead_);
<a name="l00714"></a>00714   }
<a name="l00715"></a>00715   
<a name="l00716"></a>00716   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00717"></a><a class="code" href="a00191.html#g91a8c67d17ae6595ee2f5eca3a2df144">00717</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::clear</a>()
<a name="l00718"></a>00718   {    
<a name="l00719"></a>00719     <span class="keywordflow">while</span>(beforeHead_.next_ ){
<a name="l00720"></a>00720       this-&gt;<span class="keyword">template</span> deleteNext&lt;false&gt;(&amp;beforeHead_);
<a name="l00721"></a>00721     }
<a name="l00722"></a>00722 
<a name="l00723"></a>00723     assert(size_==0);
<a name="l00724"></a>00724     <span class="comment">// update the tail!</span>
<a name="l00725"></a>00725     tail_ = &amp;beforeHead_;
<a name="l00726"></a>00726   }
<a name="l00727"></a>00727 
<a name="l00728"></a>00728   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00729"></a><a class="code" href="a00191.html#gc74361d124cf27c5e7384a66b9bcda02">00729</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::empty</a>()<span class="keyword"> const</span>
<a name="l00730"></a>00730 <span class="keyword">  </span>{
<a name="l00731"></a>00731     <span class="keywordflow">return</span>  (&amp;beforeHead_ == tail_);
<a name="l00732"></a>00732   }
<a name="l00733"></a>00733 
<a name="l00734"></a>00734   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00735"></a><a class="code" href="a00191.html#g7793abbcf5b154130d6d824c93be9c5d">00735</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::size</a>()<span class="keyword"> const</span>
<a name="l00736"></a>00736 <span class="keyword">  </span>{
<a name="l00737"></a>00737     <span class="keywordflow">return</span> size_;
<a name="l00738"></a>00738   }
<a name="l00739"></a>00739   
<a name="l00740"></a>00740   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00741"></a><a class="code" href="a00191.html#gff151c44f4a1e43ab0b2f0cf55bab6f8">00741</a>   <span class="keyword">inline</span> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator&lt;T,A&gt;</a> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::begin</a>()
<a name="l00742"></a>00742   {
<a name="l00743"></a>00743     <span class="keywordflow">return</span> <a class="code" href="a00191.html#g543a8c5a50d30cd488550f5e99161754" title="The mutable iterator of the list.">iterator</a>(beforeHead_.next_, <span class="keyword">this</span>);
<a name="l00744"></a>00744   }
<a name="l00745"></a>00745   
<a name="l00746"></a>00746   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00747"></a><a class="code" href="a00191.html#g302758547958e3d1159058578037fdbf">00747</a>   <span class="keyword">inline</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator&lt;T,A&gt;</a> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::begin</a>()<span class="keyword"> const</span>
<a name="l00748"></a>00748 <span class="keyword">  </span>{
<a name="l00749"></a>00749     <span class="keywordflow">return</span> <a class="code" href="a00191.html#ga026efcc562ed6ef620e4a96f26a393e" title="The mutable iterator of the list.">const_iterator</a>(beforeHead_.next_);
<a name="l00750"></a>00750   } 
<a name="l00751"></a>00751   
<a name="l00752"></a>00752   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00753"></a><a class="code" href="a00191.html#g8eee1922ee4cf09e85c03af4ceef39ed">00753</a>   <span class="keyword">inline</span> <a class="code" href="a00118.html" title="A mutable iterator for the SLList.">SLListIterator&lt;T,A&gt;</a> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::end</a>()
<a name="l00754"></a>00754   {
<a name="l00755"></a>00755     <span class="keywordflow">return</span> <a class="code" href="a00191.html#g543a8c5a50d30cd488550f5e99161754" title="The mutable iterator of the list.">iterator</a>();
<a name="l00756"></a>00756   }
<a name="l00757"></a>00757 
<a name="l00758"></a>00758   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00759"></a><a class="code" href="a00191.html#g1859abb70b39f6cd675d5d1f6c23a5e0">00759</a>   <span class="keyword">inline</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator&lt;T,A&gt;</a> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::endModify</a>()
<a name="l00760"></a>00760   {
<a name="l00761"></a>00761     <span class="keywordflow">return</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator&lt;T,A&gt;</a>(<a class="code" href="a00191.html#g543a8c5a50d30cd488550f5e99161754" title="The mutable iterator of the list.">iterator</a>(tail_, <span class="keyword">this</span>),<a class="code" href="a00191.html#g543a8c5a50d30cd488550f5e99161754" title="The mutable iterator of the list.">iterator</a>());
<a name="l00762"></a>00762   }
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 
<a name="l00765"></a>00765   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00766"></a><a class="code" href="a00191.html#g9f0cfc5d3be7b2719e938face53b832f">00766</a>   <span class="keyword">inline</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator&lt;T,A&gt;</a> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::beginModify</a>()
<a name="l00767"></a>00767   {
<a name="l00768"></a>00768     <span class="keywordflow">return</span> <a class="code" href="a00119.html" title="A mutable iterator for the SLList.">SLListModifyIterator&lt;T,A&gt;</a>(<a class="code" href="a00191.html#g543a8c5a50d30cd488550f5e99161754" title="The mutable iterator of the list.">iterator</a>(&amp;beforeHead_, <span class="keyword">this</span>), 
<a name="l00769"></a>00769                                      <a class="code" href="a00191.html#g543a8c5a50d30cd488550f5e99161754" title="The mutable iterator of the list.">iterator</a>(beforeHead_.next_, <span class="keyword">this</span>));
<a name="l00770"></a>00770   }
<a name="l00771"></a>00771 
<a name="l00772"></a>00772   <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> A&gt;
<a name="l00773"></a><a class="code" href="a00191.html#g79b03872a4227720653e9c6e13916f63">00773</a>   <span class="keyword">inline</span> <a class="code" href="a00117.html" title="A constant iterator for the SLList.">SLListConstIterator&lt;T,A&gt;</a> <a class="code" href="a00116.html" title="A single linked list.">SLList&lt;T,A&gt;::end</a>()<span class="keyword"> const</span>
<a name="l00774"></a>00774 <span class="keyword">  </span>{
<a name="l00775"></a>00775     <span class="keywordflow">return</span> <a class="code" href="a00191.html#ga026efcc562ed6ef620e4a96f26a393e" title="The mutable iterator of the list.">const_iterator</a>();
<a name="l00776"></a>00776   }
<a name="l00777"></a>00777 
<a name="l00779"></a>00779 }
<a name="l00780"></a>00780 <span class="preprocessor">#endif</span>
</pre></div></div>
</div> <!-- end doxygen -->
</div> <!-- end main -->
<div class="foot">

<p class="foot">
  Generated on 6 Nov 2008 with <a
  href="http://www.doxygen.org/">Doxygen</a> (ver 1.5.6)  
  [<a href="doxygen.log">logfile</a>].
</p>

</div>

</body>
</html>
